function Of(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Af(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ou={exports:{}},_i={},Ru={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),If=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Bf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),Vl=Symbol.iterator;function Vf(e){return e===null||typeof e!="object"?null:(e=Vl&&e[Vl]||e["@@iterator"],typeof e=="function"?e:null)}var Au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,$u={};function lr(e,t,n){this.props=e,this.context=t,this.refs=$u,this.updater=n||Au}lr.prototype.isReactComponent={};lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=lr.prototype;function $a(e,t,n){this.props=e,this.context=t,this.refs=$u,this.updater=n||Au}var La=$a.prototype=new Lu;La.constructor=$a;Iu(La,lr.prototype);La.isPureReactComponent=!0;var Wl=Array.isArray,zu=Object.prototype.hasOwnProperty,za={current:null},Du={key:!0,ref:!0,__self:!0,__source:!0};function Mu(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)zu.call(t,r)&&!Du.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:as,type:e,key:i,ref:a,props:s,_owner:za.current}}function Wf(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Da(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function qf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ql=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qf(""+e.key):t.toString(36)}function zs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case as:case If:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ji(a,0):r,Wl(s)?(n="",e!=null&&(n=e.replace(ql,"$&/")+"/"),zs(s,t,n,"",function(u){return u})):s!=null&&(Da(s)&&(s=Wf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ql,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Wl(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ji(i,l);a+=zs(i,t,n,c,s)}else if(c=Vf(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ji(i,l++),a+=zs(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gs(e,t,n){if(e==null)return e;var r=[],s=0;return zs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Jf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ds={transition:null},Gf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:za};function Uu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Da(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=lr;H.Fragment=$f;H.Profiler=zf;H.PureComponent=$a;H.StrictMode=Lf;H.Suspense=Ff;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;H.act=Uu;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iu({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=za.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zu.call(t,c)&&!Du.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:as,type:e.type,key:s,ref:i,props:r,_owner:a}};H.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Df,_context:e},e.Consumer=e};H.createElement=Mu;H.createFactory=function(e){var t=Mu.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Uf,render:e}};H.isValidElement=Da;H.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Jf}};H.memo=function(e,t){return{$$typeof:Bf,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};H.unstable_act=Uu;H.useCallback=function(e,t){return Oe.current.useCallback(e,t)};H.useContext=function(e){return Oe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};H.useEffect=function(e,t){return Oe.current.useEffect(e,t)};H.useId=function(){return Oe.current.useId()};H.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Oe.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};H.useRef=function(e){return Oe.current.useRef(e)};H.useState=function(e){return Oe.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Oe.current.useTransition()};H.version="18.3.1";Ru.exports=H;var k=Ru.exports;const Cr=Rf(k),Kf=Of({__proto__:null,default:Cr},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=k,Yf=Symbol.for("react.element"),Xf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,em=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Zf.call(t,r)&&!tm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Yf,type:e,key:i,ref:a,props:s,_owner:em.current}}_i.Fragment=Xf;_i.jsx=Fu;_i.jsxs=Fu;Ou.exports=_i;var o=Ou.exports,Bu={exports:{}},We={},Hu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var E=N.length;N.push(R);e:for(;0<E;){var L=E-1>>>1,q=N[L];if(0<s(q,R))N[L]=R,N[E]=q,E=L;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],E=N.pop();if(E!==R){N[0]=E;e:for(var L=0,q=N.length,ue=q>>>1;L<ue;){var V=2*(L+1)-1,gt=N[V],Ee=V+1,Y=N[Ee];if(0>s(gt,E))Ee<q&&0>s(Y,gt)?(N[L]=Y,N[Ee]=E,L=Ee):(N[L]=gt,N[V]=E,L=V);else if(Ee<q&&0>s(Y,E))N[L]=Y,N[Ee]=E,L=Ee;else break e}}return R}function s(N,R){var E=N.sortIndex-R.sortIndex;return E!==0?E:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,m=3,g=!1,x=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(N){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=N)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function v(N){if(w=!1,f(N),!x)if(n(c)!==null)x=!0,$(S);else{var R=n(u);R!==null&&U(v,R.startTime-N)}}function S(N,R){x=!1,w&&(w=!1,y(_),_=-1),g=!0;var E=m;try{for(f(R),p=n(c);p!==null&&(!(p.expirationTime>R)||N&&!z());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var q=L(p.expirationTime<=R);R=e.unstable_now(),typeof q=="function"?p.callback=q:p===n(c)&&r(c),f(R)}else r(c);p=n(c)}if(p!==null)var ue=!0;else{var V=n(u);V!==null&&U(v,V.startTime-R),ue=!1}return ue}finally{p=null,m=E,g=!1}}var C=!1,T=null,_=-1,O=5,A=-1;function z(){return!(e.unstable_now()-A<O)}function J(){if(T!==null){var N=e.unstable_now();A=N;var R=!0;try{R=T(!0,N)}finally{R?G():(C=!1,T=null)}}else C=!1}var G;if(typeof h=="function")G=function(){h(J)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,b=be.port2;be.port1.onmessage=J,G=function(){b.postMessage(null)}}else G=function(){j(J,0)};function $(N){T=N,C||(C=!0,G())}function U(N,R){_=j(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,$(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var E=m;m=R;try{return N()}finally{m=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var E=m;m=N;try{return R()}finally{m=E}},e.unstable_scheduleCallback=function(N,R,E){var L=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?L+E:L):E=L,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=E+q,N={id:d++,callback:R,priorityLevel:N,startTime:E,expirationTime:q,sortIndex:-1},E>L?(N.sortIndex=E,t(u,N),n(c)===null&&N===n(u)&&(w?(y(_),_=-1):w=!0,U(v,E-L))):(N.sortIndex=q,t(c,N),x||g||(x=!0,$(S))),N},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(N){var R=m;return function(){var E=m;m=R;try{return N.apply(this,arguments)}finally{m=E}}}})(Vu);Hu.exports=Vu;var nm=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=k,Ve=nm;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wu=new Set,Ur={};function xn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=Object.prototype.hasOwnProperty,sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jl={},Gl={};function im(e){return To.call(Gl,e)?!0:To.call(Jl,e)?!1:sm.test(e)?Gl[e]=!0:(Jl[e]=!0,!1)}function om(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function am(e,t,n,r){if(t===null||typeof t>"u"||om(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ma=/[\-:]([a-z])/g;function Ua(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ma,Ua);je[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ma,Ua);je[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ma,Ua);je[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fa(e,t,n,r){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(am(t,n,s,r)&&(n=null),r||s===null?im(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),Ba=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Oo=Symbol.for("react.suspense"),Ro=Symbol.for("react.suspense_list"),Va=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),Kl=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Kl&&e[Kl]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Gi;function br(e){if(Gi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gi=t&&t[1]||""}return`
`+Gi+e}var Ki=!1;function Qi(e,t){if(!e||Ki)return"";Ki=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ki=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?br(e):""}function lm(e){switch(e.tag){case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pn:return"Fragment";case Tn:return"Portal";case Po:return"Profiler";case Ba:return"StrictMode";case Oo:return"Suspense";case Ro:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ju:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case Ha:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Va:return t=e.displayName||null,t!==null?t:Ao(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Ao(e(t))}catch{}}return null}function cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ao(t);case 8:return t===Ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function um(e){var t=Ku(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=um(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ku(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ql(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yu(e,t){t=t.checked,t!=null&&Fa(e,"checked",t,!1)}function $o(e,t){Yu(e,t);var n=Gt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lo(e,t,n){(t!=="number"||Ks(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _r=Array.isArray;function Bn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(_r(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gt(n)}}function Xu(e,t){var n=Gt(t.value),r=Gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dm=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function td(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function nd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=td(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hm=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mo(e,t){if(t){if(hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bo=null,Hn=null,Vn=null;function ec(e){if(e=us(e)){if(typeof Bo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ei(t),Bo(e.stateNode,e.type,t))}}function rd(e){Hn?Vn?Vn.push(e):Vn=[e]:Hn=e}function sd(){if(Hn){var e=Hn,t=Vn;if(Vn=Hn=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function id(e,t){return e(t)}function od(){}var Yi=!1;function ad(e,t,n){if(Yi)return e(t,n);Yi=!0;try{return id(e,t,n)}finally{Yi=!1,(Hn!==null||Vn!==null)&&(od(),sd())}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var r=Ei(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ho=!1;if(_t)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Ho=!1}function fm(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Tr=!1,Qs=null,Ys=!1,Vo=null,mm={onError:function(e){Tr=!0,Qs=e}};function pm(e,t,n,r,s,i,a,l,c){Tr=!1,Qs=null,fm.apply(mm,arguments)}function gm(e,t,n,r,s,i,a,l,c){if(pm.apply(this,arguments),Tr){if(Tr){var u=Qs;Tr=!1,Qs=null}else throw Error(P(198));Ys||(Ys=!0,Vo=u)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(vn(e)!==e)throw Error(P(188))}function ym(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tc(s),e;if(i===r)return tc(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function cd(e){return e=ym(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var dd=Ve.unstable_scheduleCallback,nc=Ve.unstable_cancelCallback,xm=Ve.unstable_shouldYield,vm=Ve.unstable_requestPaint,ce=Ve.unstable_now,wm=Ve.unstable_getCurrentPriorityLevel,qa=Ve.unstable_ImmediatePriority,hd=Ve.unstable_UserBlockingPriority,Xs=Ve.unstable_NormalPriority,jm=Ve.unstable_LowPriority,fd=Ve.unstable_IdlePriority,ki=null,ft=null;function bm(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Nm,_m=Math.log,km=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(_m(e)/km|0)|0}var ws=64,js=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=kr(l):(i&=a,i!==0&&(r=kr(i)))}else a=n&~s,a!==0?r=kr(a):i!==0&&(r=kr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),s=1<<n,r|=e[n],t&=~s;return r}function Sm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Sm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function Em(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ja(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gd,Ga,yd,xd,vd,qo=!1,bs=[],Mt=null,Ut=null,Ft=null,Hr=new Map,Vr=new Map,It=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(t.pointerId)}}function pr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=us(t),t!==null&&Ga(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pm(e,t,n,r,s){switch(t){case"focusin":return Mt=pr(Mt,e,t,n,r,s),!0;case"dragenter":return Ut=pr(Ut,e,t,n,r,s),!0;case"mouseover":return Ft=pr(Ft,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hr.set(i,pr(Hr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vr.set(i,pr(Vr.get(i)||null,e,t,n,r,s)),!0}return!1}function wd(e){var t=on(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,vd(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fo=r,n.target.dispatchEvent(r),Fo=null}else return t=us(n),t!==null&&Ga(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){Ms(e)&&n.delete(t)}function Om(){qo=!1,Mt!==null&&Ms(Mt)&&(Mt=null),Ut!==null&&Ms(Ut)&&(Ut=null),Ft!==null&&Ms(Ft)&&(Ft=null),Hr.forEach(sc),Vr.forEach(sc)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Om)))}function Wr(e){function t(s){return gr(s,e)}if(0<bs.length){gr(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&gr(Mt,e),Ut!==null&&gr(Ut,e),Ft!==null&&gr(Ft,e),Hr.forEach(t),Vr.forEach(t),n=0;n<It.length;n++)r=It[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&It.shift()}var Wn=Ct.ReactCurrentBatchConfig,ei=!0;function Rm(e,t,n,r){var s=X,i=Wn.transition;Wn.transition=null;try{X=1,Ka(e,t,n,r)}finally{X=s,Wn.transition=i}}function Am(e,t,n,r){var s=X,i=Wn.transition;Wn.transition=null;try{X=4,Ka(e,t,n,r)}finally{X=s,Wn.transition=i}}function Ka(e,t,n,r){if(ei){var s=Jo(e,t,n,r);if(s===null)lo(e,t,r,ti,n),rc(e,r);else if(Pm(s,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<Tm.indexOf(e)){for(;s!==null;){var i=us(s);if(i!==null&&gd(i),i=Jo(e,t,n,r),i===null&&lo(e,t,r,ti,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var ti=null;function Jo(e,t,n,r){if(ti=null,e=Wa(r),e=on(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wm()){case qa:return 1;case hd:return 4;case Xs:case jm:return 16;case fd:return 536870912;default:return 16}default:return 16}}var zt=null,Qa=null,Us=null;function bd(){if(Us)return Us;var e,t=Qa,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Us=s.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function ic(){return!1}function qe(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:ic,this.isPropagationStopped=ic,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=qe(cr),cs=ae({},cr,{view:0,detail:0}),Im=qe(cs),Zi,eo,yr,Ni=ae({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(Zi=e.screenX-yr.screenX,eo=e.screenY-yr.screenY):eo=Zi=0,yr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:eo}}),oc=qe(Ni),$m=ae({},Ni,{dataTransfer:0}),Lm=qe($m),zm=ae({},cs,{relatedTarget:0}),to=qe(zm),Dm=ae({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mm=qe(Dm),Um=ae({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fm=qe(Um),Bm=ae({},cr,{data:0}),ac=qe(Bm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function Xa(){return qm}var Jm=ae({},cs,{key:function(e){if(e.key){var t=Hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=qe(Jm),Km=ae({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=qe(Km),Qm=ae({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Ym=qe(Qm),Xm=ae({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=qe(Xm),ep=ae({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tp=qe(ep),np=[9,13,27,32],Za=_t&&"CompositionEvent"in window,Pr=null;_t&&"documentMode"in document&&(Pr=document.documentMode);var rp=_t&&"TextEvent"in window&&!Pr,_d=_t&&(!Za||Pr&&8<Pr&&11>=Pr),cc=" ",uc=!1;function kd(e,t){switch(e){case"keyup":return np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function sp(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function ip(e,t){if(On)return e==="compositionend"||!Za&&kd(e,t)?(e=bd(),Us=Qa=zt=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Sd(e,t,n,r){rd(r),t=ni(t,"onChange"),0<t.length&&(n=new Ya("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Or=null,qr=null;function ap(e){zd(e,0)}function Si(e){var t=In(e);if(Qu(t))return e}function lp(e,t){if(e==="change")return t}var Cd=!1;if(_t){var no;if(_t){var ro="oninput"in document;if(!ro){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),ro=typeof hc.oninput=="function"}no=ro}else no=!1;Cd=no&&(!document.documentMode||9<document.documentMode)}function fc(){Or&&(Or.detachEvent("onpropertychange",Ed),qr=Or=null)}function Ed(e){if(e.propertyName==="value"&&Si(qr)){var t=[];Sd(t,qr,e,Wa(e)),ad(ap,t)}}function cp(e,t,n){e==="focusin"?(fc(),Or=t,qr=n,Or.attachEvent("onpropertychange",Ed)):e==="focusout"&&fc()}function up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(qr)}function dp(e,t){if(e==="click")return Si(t)}function hp(e,t){if(e==="input"||e==="change")return Si(t)}function fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:fp;function Jr(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!To.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=Ks();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ks(e.document)}return t}function el(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mp(e){var t=Pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(r!==null&&el(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pc(n,i);var a=pc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pp=_t&&"documentMode"in document&&11>=document.documentMode,Rn=null,Go=null,Rr=null,Ko=!1;function gc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||Rn==null||Rn!==Ks(r)||(r=Rn,"selectionStart"in r&&el(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Jr(Rr,r)||(Rr=r,r=ni(Go,"onSelect"),0<r.length&&(t=new Ya("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var An={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},so={},Od={};_t&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ci(e){if(so[e])return so[e];if(!An[e])return e;var t=An[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Od)return so[e]=t[n];return e}var Rd=Ci("animationend"),Ad=Ci("animationiteration"),Id=Ci("animationstart"),$d=Ci("transitionend"),Ld=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Ld.set(e,t),xn(t,[e])}for(var io=0;io<yc.length;io++){var oo=yc[io],gp=oo.toLowerCase(),yp=oo[0].toUpperCase()+oo.slice(1);Qt(gp,"on"+yp)}Qt(Rd,"onAnimationEnd");Qt(Ad,"onAnimationIteration");Qt(Id,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt($d,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function xc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gm(r,t,void 0,e),e.currentTarget=null}function zd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xc(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xc(s,l,u),i=c}}}if(Ys)throw e=Vo,Ys=!1,Vo=null,e}function ne(e,t){var n=t[ea];n===void 0&&(n=t[ea]=new Set);var r=e+"__bubble";n.has(r)||(Dd(t,e,2,!1),n.add(r))}function ao(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Ns]){e[Ns]=!0,Wu.forEach(function(n){n!=="selectionchange"&&(xp.has(n)||ao(n,!1,e),ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,ao("selectionchange",!1,t))}}function Dd(e,t,n,r){switch(jd(t)){case 1:var s=Rm;break;case 4:s=Am;break;default:s=Ka}n=s.bind(null,t,n,e),s=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=on(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}ad(function(){var u=i,d=Wa(n),p=[];e:{var m=Ld.get(e);if(m!==void 0){var g=Ya,x=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":g=Gm;break;case"focusin":x="focus",g=to;break;case"focusout":x="blur",g=to;break;case"beforeblur":case"afterblur":g=to;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ym;break;case Rd:case Ad:case Id:g=Mm;break;case $d:g=Zm;break;case"scroll":g=Im;break;case"wheel":g=tp;break;case"copy":case"cut":case"paste":g=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=lc}var w=(t&4)!==0,j=!w&&e==="scroll",y=w?m!==null?m+"Capture":null:m;w=[];for(var h=u,f;h!==null;){f=h;var v=f.stateNode;if(f.tag===5&&v!==null&&(f=v,y!==null&&(v=Br(h,y),v!=null&&w.push(Kr(h,v,f)))),j)break;h=h.return}0<w.length&&(m=new g(m,x,null,n,d),p.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Fo&&(x=n.relatedTarget||n.fromElement)&&(on(x)||x[kt]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?on(x):null,x!==null&&(j=vn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(w=oc,v="onMouseLeave",y="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=lc,v="onPointerLeave",y="onPointerEnter",h="pointer"),j=g==null?m:In(g),f=x==null?m:In(x),m=new w(v,h+"leave",g,n,d),m.target=j,m.relatedTarget=f,v=null,on(d)===u&&(w=new w(y,h+"enter",x,n,d),w.target=f,w.relatedTarget=j,v=w),j=v,g&&x)t:{for(w=g,y=x,h=0,f=w;f;f=_n(f))h++;for(f=0,v=y;v;v=_n(v))f++;for(;0<h-f;)w=_n(w),h--;for(;0<f-h;)y=_n(y),f--;for(;h--;){if(w===y||y!==null&&w===y.alternate)break t;w=_n(w),y=_n(y)}w=null}else w=null;g!==null&&vc(p,m,g,w,!1),x!==null&&j!==null&&vc(p,j,x,w,!0)}}e:{if(m=u?In(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=lp;else if(dc(m))if(Cd)S=hp;else{S=up;var C=cp}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=dp);if(S&&(S=S(e,u))){Sd(p,S,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Lo(m,"number",m.value)}switch(C=u?In(u):window,e){case"focusin":(dc(C)||C.contentEditable==="true")&&(Rn=C,Go=u,Rr=null);break;case"focusout":Rr=Go=Rn=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,gc(p,n,d);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":gc(p,n,d)}var T;if(Za)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else On?kd(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(_d&&n.locale!=="ko"&&(On||_!=="onCompositionStart"?_==="onCompositionEnd"&&On&&(T=bd()):(zt=d,Qa="value"in zt?zt.value:zt.textContent,On=!0)),C=ni(u,_),0<C.length&&(_=new ac(_,e,null,n,d),p.push({event:_,listeners:C}),T?_.data=T:(T=Nd(n),T!==null&&(_.data=T)))),(T=rp?sp(e,n):ip(e,n))&&(u=ni(u,"onBeforeInput"),0<u.length&&(d=new ac("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=T))}zd(p,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(e,n),i!=null&&r.unshift(Kr(e,i,s)),i=Br(e,t),i!=null&&r.push(Kr(e,i,s))),e=e.return}return r}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Br(n,i),c!=null&&a.unshift(Kr(n,c,l))):s||(c=Br(n,i),c!=null&&a.push(Kr(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vp=/\r\n?/g,wp=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(vp,`
`).replace(wp,"")}function Ss(e,t,n){if(t=wc(t),wc(e)!==t&&n)throw Error(P(425))}function ri(){}var Qo=null,Yo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(_p)}:Zo;function _p(e){setTimeout(function(){throw e})}function co(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wr(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),ht="__reactFiber$"+ur,Qr="__reactProps$"+ur,kt="__reactContainer$"+ur,ea="__reactEvents$"+ur,kp="__reactListeners$"+ur,Np="__reactHandles$"+ur;function on(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[ht])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function us(e){return e=e[ht]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function In(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ei(e){return e[Qr]||null}var ta=[],$n=-1;function Yt(e){return{current:e}}function re(e){0>$n||(e.current=ta[$n],ta[$n]=null,$n--)}function te(e,t){$n++,ta[$n]=e.current,e.current=t}var Kt={},Se=Yt(Kt),ze=Yt(!1),hn=Kt;function Zn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function si(){re(ze),re(Se)}function _c(e,t,n){if(Se.current!==Kt)throw Error(P(168));te(Se,t),te(ze,n)}function Md(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,cm(e)||"Unknown",s));return ae({},n,r)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,hn=Se.current,te(Se,e),te(ze,ze.current),!0}function kc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Md(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,re(ze),re(Se),te(Se,e)):re(ze),te(ze,n)}var vt=null,Ti=!1,uo=!1;function Ud(e){vt===null?vt=[e]:vt.push(e)}function Sp(e){Ti=!0,Ud(e)}function Xt(){if(!uo&&vt!==null){uo=!0;var e=0,t=X;try{var n=vt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,Ti=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),dd(qa,Xt),s}finally{X=t,uo=!1}}return null}var Ln=[],zn=0,oi=null,ai=0,Je=[],Ge=0,fn=null,wt=1,jt="";function tn(e,t){Ln[zn++]=ai,Ln[zn++]=oi,oi=e,ai=t}function Fd(e,t,n){Je[Ge++]=wt,Je[Ge++]=jt,Je[Ge++]=fn,fn=e;var r=wt;e=jt;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,wt=1<<32-ot(t)+s|n<<s|r,jt=i+e}else wt=1<<i|n<<s|r,jt=e}function tl(e){e.return!==null&&(tn(e,1),Fd(e,1,0))}function nl(e){for(;e===oi;)oi=Ln[--zn],Ln[zn]=null,ai=Ln[--zn],Ln[zn]=null;for(;e===fn;)fn=Je[--Ge],Je[Ge]=null,jt=Je[--Ge],Je[Ge]=null,wt=Je[--Ge],Je[Ge]=null}var He=null,Be=null,se=!1,it=null;function Bd(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,Be=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:wt,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,He=e,Be=null,!0):!1;default:return!1}}function na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(se){var t=Be;if(t){var n=t;if(!Nc(e,t)){if(na(e))throw Error(P(418));t=Bt(n.nextSibling);var r=He;t&&Nc(e,t)?Bd(r,n):(e.flags=e.flags&-4097|2,se=!1,He=e)}}else{if(na(e))throw Error(P(418));e.flags=e.flags&-4097|2,se=!1,He=e}}}function Sc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Cs(e){if(e!==He)return!1;if(!se)return Sc(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=Be)){if(na(e))throw Hd(),Error(P(418));for(;t;)Bd(e,t),t=Bt(t.nextSibling)}if(Sc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Be=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=He?Bt(e.stateNode.nextSibling):null;return!0}function Hd(){for(var e=Be;e;)e=Bt(e.nextSibling)}function er(){Be=He=null,se=!1}function rl(e){it===null?it=[e]:it.push(e)}var Cp=Ct.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cc(e){var t=e._init;return t(e._payload)}function Vd(e){function t(y,h){if(e){var f=y.deletions;f===null?(y.deletions=[h],y.flags|=16):f.push(h)}}function n(y,h){if(!e)return null;for(;h!==null;)t(y,h),h=h.sibling;return null}function r(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function s(y,h){return y=qt(y,h),y.index=0,y.sibling=null,y}function i(y,h,f){return y.index=f,e?(f=y.alternate,f!==null?(f=f.index,f<h?(y.flags|=2,h):f):(y.flags|=2,h)):(y.flags|=1048576,h)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,h,f,v){return h===null||h.tag!==6?(h=xo(f,y.mode,v),h.return=y,h):(h=s(h,f),h.return=y,h)}function c(y,h,f,v){var S=f.type;return S===Pn?d(y,h,f.props.children,v,f.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ot&&Cc(S)===h.type)?(v=s(h,f.props),v.ref=xr(y,h,f),v.return=y,v):(v=Gs(f.type,f.key,f.props,null,y.mode,v),v.ref=xr(y,h,f),v.return=y,v)}function u(y,h,f,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==f.containerInfo||h.stateNode.implementation!==f.implementation?(h=vo(f,y.mode,v),h.return=y,h):(h=s(h,f.children||[]),h.return=y,h)}function d(y,h,f,v,S){return h===null||h.tag!==7?(h=dn(f,y.mode,v,S),h.return=y,h):(h=s(h,f),h.return=y,h)}function p(y,h,f){if(typeof h=="string"&&h!==""||typeof h=="number")return h=xo(""+h,y.mode,f),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ys:return f=Gs(h.type,h.key,h.props,null,y.mode,f),f.ref=xr(y,null,h),f.return=y,f;case Tn:return h=vo(h,y.mode,f),h.return=y,h;case Ot:var v=h._init;return p(y,v(h._payload),f)}if(_r(h)||fr(h))return h=dn(h,y.mode,f,null),h.return=y,h;Es(y,h)}return null}function m(y,h,f,v){var S=h!==null?h.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:l(y,h,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:return f.key===S?c(y,h,f,v):null;case Tn:return f.key===S?u(y,h,f,v):null;case Ot:return S=f._init,m(y,h,S(f._payload),v)}if(_r(f)||fr(f))return S!==null?null:d(y,h,f,v,null);Es(y,f)}return null}function g(y,h,f,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(f)||null,l(h,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return y=y.get(v.key===null?f:v.key)||null,c(h,y,v,S);case Tn:return y=y.get(v.key===null?f:v.key)||null,u(h,y,v,S);case Ot:var C=v._init;return g(y,h,f,C(v._payload),S)}if(_r(v)||fr(v))return y=y.get(f)||null,d(h,y,v,S,null);Es(h,v)}return null}function x(y,h,f,v){for(var S=null,C=null,T=h,_=h=0,O=null;T!==null&&_<f.length;_++){T.index>_?(O=T,T=null):O=T.sibling;var A=m(y,T,f[_],v);if(A===null){T===null&&(T=O);break}e&&T&&A.alternate===null&&t(y,T),h=i(A,h,_),C===null?S=A:C.sibling=A,C=A,T=O}if(_===f.length)return n(y,T),se&&tn(y,_),S;if(T===null){for(;_<f.length;_++)T=p(y,f[_],v),T!==null&&(h=i(T,h,_),C===null?S=T:C.sibling=T,C=T);return se&&tn(y,_),S}for(T=r(y,T);_<f.length;_++)O=g(T,y,_,f[_],v),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?_:O.key),h=i(O,h,_),C===null?S=O:C.sibling=O,C=O);return e&&T.forEach(function(z){return t(y,z)}),se&&tn(y,_),S}function w(y,h,f,v){var S=fr(f);if(typeof S!="function")throw Error(P(150));if(f=S.call(f),f==null)throw Error(P(151));for(var C=S=null,T=h,_=h=0,O=null,A=f.next();T!==null&&!A.done;_++,A=f.next()){T.index>_?(O=T,T=null):O=T.sibling;var z=m(y,T,A.value,v);if(z===null){T===null&&(T=O);break}e&&T&&z.alternate===null&&t(y,T),h=i(z,h,_),C===null?S=z:C.sibling=z,C=z,T=O}if(A.done)return n(y,T),se&&tn(y,_),S;if(T===null){for(;!A.done;_++,A=f.next())A=p(y,A.value,v),A!==null&&(h=i(A,h,_),C===null?S=A:C.sibling=A,C=A);return se&&tn(y,_),S}for(T=r(y,T);!A.done;_++,A=f.next())A=g(T,y,_,A.value,v),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?_:A.key),h=i(A,h,_),C===null?S=A:C.sibling=A,C=A);return e&&T.forEach(function(J){return t(y,J)}),se&&tn(y,_),S}function j(y,h,f,v){if(typeof f=="object"&&f!==null&&f.type===Pn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:e:{for(var S=f.key,C=h;C!==null;){if(C.key===S){if(S=f.type,S===Pn){if(C.tag===7){n(y,C.sibling),h=s(C,f.props.children),h.return=y,y=h;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ot&&Cc(S)===C.type){n(y,C.sibling),h=s(C,f.props),h.ref=xr(y,C,f),h.return=y,y=h;break e}n(y,C);break}else t(y,C);C=C.sibling}f.type===Pn?(h=dn(f.props.children,y.mode,v,f.key),h.return=y,y=h):(v=Gs(f.type,f.key,f.props,null,y.mode,v),v.ref=xr(y,h,f),v.return=y,y=v)}return a(y);case Tn:e:{for(C=f.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(y,h.sibling),h=s(h,f.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else t(y,h);h=h.sibling}h=vo(f,y.mode,v),h.return=y,y=h}return a(y);case Ot:return C=f._init,j(y,h,C(f._payload),v)}if(_r(f))return x(y,h,f,v);if(fr(f))return w(y,h,f,v);Es(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,h!==null&&h.tag===6?(n(y,h.sibling),h=s(h,f),h.return=y,y=h):(n(y,h),h=xo(f,y.mode,v),h.return=y,y=h),a(y)):n(y,h)}return j}var tr=Vd(!0),Wd=Vd(!1),li=Yt(null),ci=null,Dn=null,sl=null;function il(){sl=Dn=ci=null}function ol(e){var t=li.current;re(li),e._currentValue=t}function sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){ci=e,sl=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(sl!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(ci===null)throw Error(P(308));Dn=e,ci.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var an=null;function al(e){an===null?an=[e]:an.push(e)}function qd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,al(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nt(e,r)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rt=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nt(e,n)}return s=r.interleaved,s===null?(t.next=t,al(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nt(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ja(e,n)}}function Ec(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ui(e,t,n,r){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(m=t,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){p=x.call(g,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(g,p,m):x,m==null)break e;p=ae({},p,m);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=p):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);pn|=a,e.lanes=a,e.memoizedState=p}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var ds={},mt=Yt(ds),Yr=Yt(ds),Xr=Yt(ds);function ln(e){if(e===ds)throw Error(P(174));return e}function cl(e,t){switch(te(Xr,t),te(Yr,e),te(mt,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Do(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Do(t,e)}re(mt),te(mt,t)}function nr(){re(mt),re(Yr),re(Xr)}function Gd(e){ln(Xr.current);var t=ln(mt.current),n=Do(t,e.type);t!==n&&(te(Yr,e),te(mt,n))}function ul(e){Yr.current===e&&(re(mt),re(Yr))}var ie=Yt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function dl(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var Hs=Ct.ReactCurrentDispatcher,fo=Ct.ReactCurrentBatchConfig,mn=0,oe=null,me=null,ye=null,hi=!1,Ar=!1,Zr=0,Ep=0;function _e(){throw Error(P(321))}function hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function fl(e,t,n,r,s,i){if(mn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?Rp:Ap,e=n(r,s),Ar){i=0;do{if(Ar=!1,Zr=0,25<=i)throw Error(P(301));i+=1,ye=me=null,t.updateQueue=null,Hs.current=Ip,e=n(r,s)}while(Ar)}if(Hs.current=fi,t=me!==null&&me.next!==null,mn=0,ye=me=oe=null,hi=!1,t)throw Error(P(300));return e}function ml(){var e=Zr!==0;return Zr=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function Ze(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,me=e;else{if(e===null)throw Error(P(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function es(e,t){return typeof t=="function"?t(e):t}function mo(e){var t=Ze(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((mn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,oe.lanes|=d,pn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,lt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,pn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=Ze(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);lt(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Kd(){}function Qd(e,t){var n=oe,r=Ze(),s=t(),i=!lt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,pl(Zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,ts(9,Xd.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(P(349));mn&30||Yd(n,t,s)}return s}function Yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,eh(t)&&th(e)}function Zd(e,t,n){return n(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function th(e){var t=Nt(e,1);t!==null&&at(t,e,1,-1)}function Pc(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=Op.bind(null,oe,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nh(){return Ze().memoizedState}function Vs(e,t,n,r){var s=dt();oe.flags|=e,s.memoizedState=ts(1|t,n,void 0,r===void 0?null:r)}function Pi(e,t,n,r){var s=Ze();r=r===void 0?null:r;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,r!==null&&hl(r,a.deps)){s.memoizedState=ts(t,n,i,r);return}}oe.flags|=e,s.memoizedState=ts(1|t,n,i,r)}function Oc(e,t){return Vs(8390656,8,e,t)}function pl(e,t){return Pi(2048,8,e,t)}function rh(e,t){return Pi(4,2,e,t)}function sh(e,t){return Pi(4,4,e,t)}function ih(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4,4,ih.bind(null,t,e),n)}function gl(){}function ah(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lh(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ch(e,t,n){return mn&21?(lt(n,t)||(n=md(),oe.lanes|=n,pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Tp(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{X=n,fo.transition=r}}function uh(){return Ze().memoizedState}function Pp(e,t,n){var r=Wt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dh(e))hh(t,n);else if(n=qd(e,t,n,r),n!==null){var s=Pe();at(n,e,r,s),fh(n,t,r)}}function Op(e,t,n){var r=Wt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(e))hh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,lt(l,a)){var c=t.interleaved;c===null?(s.next=s,al(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=qd(e,t,s,r),n!==null&&(s=Pe(),at(n,e,r,s),fh(n,t,r))}}function dh(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function hh(e,t){Ar=hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ja(e,n)}}var fi={readContext:Xe,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Rp={readContext:Xe,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,ih.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pp.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:gl,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=Tp.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=dt();if(se){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),xe===null)throw Error(P(349));mn&30||Yd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Oc(Zd.bind(null,r,i,e),[e]),r.flags|=2048,ts(9,Xd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=xe.identifierPrefix;if(se){var n=jt,r=wt;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ap={readContext:Xe,useCallback:ah,useContext:Xe,useEffect:pl,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:lh,useReducer:mo,useRef:nh,useState:function(){return mo(es)},useDebugValue:gl,useDeferredValue:function(e){var t=Ze();return ch(t,me.memoizedState,e)},useTransition:function(){var e=mo(es)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Qd,useId:uh,unstable_isNewReconciler:!1},Ip={readContext:Xe,useCallback:ah,useContext:Xe,useEffect:pl,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:lh,useReducer:po,useRef:nh,useState:function(){return po(es)},useDebugValue:gl,useDeferredValue:function(e){var t=Ze();return me===null?t.memoizedState=e:ch(t,me.memoizedState,e)},useTransition:function(){var e=po(es)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Qd,useId:uh,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oi={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=Wt(e),i=bt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(at(t,e,s,r),Bs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=Wt(e),i=bt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(at(t,e,s,r),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=Wt(e),s=bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ht(e,s,r),t!==null&&(at(t,e,r,n),Bs(t,e,r))}};function Rc(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Jr(n,r)||!Jr(s,i):!0}function mh(e,t,n){var r=!1,s=Kt,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(s=De(t)?hn:Se.current,r=t.contextTypes,i=(r=r!=null)?Zn(e,s):Kt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ac(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ll(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Xe(i):(i=De(t)?hn:Se.current,s.context=Zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ia(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),ui(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",r=t;do n+=lm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function ph(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pi||(pi=!0,ya=r),aa(e,t)},n}function gh(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){aa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){aa(e,t),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $p;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Kp.bind(null,e,t,n),t.then(e,e))}function $c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var Lp=Ct.ReactCurrentOwner,Le=!1;function Te(e,t,n,r){t.child=e===null?Wd(t,null,n,r):tr(t,e.child,n,r)}function zc(e,t,n,r,s){n=n.render;var i=t.ref;return qn(t,s),r=fl(e,t,n,r,i,s),n=ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(se&&n&&tl(t),t.flags|=1,Te(e,t,r,s),t.child)}function Dc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!kl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,yh(e,t,i,r,s)):(e=Gs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(a,r)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=qt(i,r),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Jr(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,St(e,t,s)}return la(e,t,n,r,s)}function xh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Un,Fe),Fe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Un,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(Un,Fe),Fe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(Un,Fe),Fe|=r;return Te(e,t,s,n),t.child}function vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function la(e,t,n,r,s){var i=De(n)?hn:Se.current;return i=Zn(t,i),qn(t,s),n=fl(e,t,n,r,i,s),r=ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(se&&r&&tl(t),t.flags|=1,Te(e,t,n,s),t.child)}function Mc(e,t,n,r,s){if(De(n)){var i=!0;ii(t)}else i=!1;if(qn(t,s),t.stateNode===null)Ws(e,t),mh(t,n,r),oa(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=De(n)?hn:Se.current,u=Zn(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ac(t,a,r,u),Rt=!1;var m=t.memoizedState;a.state=m,ui(t,r,a,s),c=t.memoizedState,l!==r||m!==c||ze.current||Rt?(typeof d=="function"&&(ia(t,n,d,r),c=t.memoizedState),(l=Rt||Rc(t,n,l,r,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Jd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nt(t.type,l),a.props=u,p=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=De(n)?hn:Se.current,c=Zn(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&Ac(t,a,r,c),Rt=!1,m=t.memoizedState,a.state=m,ui(t,r,a,s);var x=t.memoizedState;l!==p||m!==x||ze.current||Rt?(typeof g=="function"&&(ia(t,n,g,r),x=t.memoizedState),(u=Rt||Rc(t,n,u,r,m,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ca(e,t,n,r,i,s)}function ca(e,t,n,r,s,i){vh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&kc(t,n,!1),St(e,t,i);r=t.stateNode,Lp.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=tr(t,e.child,null,i),t.child=tr(t,null,l,i)):Te(e,t,l,i),t.memoizedState=r.state,s&&kc(t,n,!0),t.child}function wh(e){var t=e.stateNode;t.pendingContext?_c(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_c(e,t.context,!1),cl(e,t.containerInfo)}function Uc(e,t,n,r,s){return er(),rl(s),t.flags|=256,Te(e,t,n,r),t.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function jh(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ie,s&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ii(a,r,0,null),e=dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=da(n),t.memoizedState=ua,e):yl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zp(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qt(l,i):(i=dn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?da(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ua,r}return i=e.child,e=i.sibling,r=qt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yl(e,t){return t=Ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,n,r){return r!==null&&rl(r),tr(t,e.child,null,n),e=yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zp(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=go(Error(P(422))),Ts(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ii({mode:"visible",children:r.children},s,0,null),i=dn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&tr(t,e.child,null,a),t.child.memoizedState=da(a),t.memoizedState=ua,i);if(!(t.mode&1))return Ts(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=go(i,r,void 0),Ts(e,t,a,r)}if(l=(a&e.childLanes)!==0,Le||l){if(r=xe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(e,s),at(r,e,s,-1))}return _l(),r=go(Error(P(421))),Ts(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Be=Bt(s.nextSibling),He=t,se=!0,it=null,e!==null&&(Je[Ge++]=wt,Je[Ge++]=jt,Je[Ge++]=fn,wt=e.id,jt=e.overflow,fn=t),t=yl(t,r.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sa(e.return,t,n)}function yo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Te(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&di(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&di(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yo(t,!0,n,null,i);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dp(e,t,n){switch(t.tag){case 3:wh(t),er();break;case 5:Gd(t);break;case 1:De(t.type)&&ii(t);break;case 4:cl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?jh(e,t,n):(te(ie,ie.current&1),e=St(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,n)}return St(e,t,n)}var _h,ha,kh,Nh;_h=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ha=function(){};kh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ln(mt.current);var i=null;switch(n){case"input":s=Io(e,s),r=Io(e,r),i=[];break;case"select":s=ae({},s,{value:void 0}),r=ae({},r,{value:void 0}),i=[];break;case"textarea":s=zo(e,s),r=zo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ri)}Mo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ur.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Nh=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mp(e,t,n){var r=t.pendingProps;switch(nl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return De(t.type)&&si(),ke(t),null;case 3:return r=t.stateNode,nr(),re(ze),re(Se),dl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(wa(it),it=null))),ha(e,t),ke(t),null;case 5:ul(t);var s=ln(Xr.current);if(n=t.type,e!==null&&t.stateNode!=null)kh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return ke(t),null}if(e=ln(mt.current),Cs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[Qr]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Nr.length;s++)ne(Nr[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Ql(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Xl(r,i),ne("invalid",r)}Mo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,l,e),s=["children",""+l]):Ur.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ne("scroll",r)}switch(n){case"input":xs(r),Yl(r,i,!0);break;case"textarea":xs(r),Zl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ri)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ht]=t,e[Qr]=r,_h(e,t,!1,!1),t.stateNode=e;e:{switch(a=Uo(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Nr.length;s++)ne(Nr[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Ql(e,r),s=Io(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ae({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Xl(e,r),s=zo(e,r),ne("invalid",e);break;default:s=r}Mo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ed(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fr(e,c):typeof c=="number"&&Fr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ur.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ne("scroll",e):c!=null&&Fa(e,i,c,a))}switch(n){case"input":xs(e),Yl(e,r,!1);break;case"textarea":xs(e),Zl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Bn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Bn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=ln(Xr.current),ln(mt.current),Cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=He,e!==null))switch(e.tag){case 3:Ss(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return ke(t),null;case 13:if(re(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Be!==null&&t.mode&1&&!(t.flags&128))Hd(),er(),t.flags|=98560,i=!1;else if(i=Cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ht]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else it!==null&&(wa(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?pe===0&&(pe=3):_l())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return nr(),ha(e,t),e===null&&Gr(t.stateNode.containerInfo),ke(t),null;case 10:return ol(t.type._context),ke(t),null;case 17:return De(t.type)&&si(),ke(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)vr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=di(e),a!==null){for(t.flags|=128,vr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>sr&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=di(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!se)return ke(t),null}else 2*ce()-i.renderingStartTime>sr&&n!==1073741824&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=ie.current,te(ie,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return bl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Up(e,t){switch(nl(t),t.tag){case 1:return De(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),re(ze),re(Se),dl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return nr(),null;case 10:return ol(t.type._context),null;case 22:case 23:return bl(),null;case 24:return null;default:return null}}var Ps=!1,Ne=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,I=null;function Mn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){le(e,t,r)}}var Bc=!1;function Bp(e,t){if(Qo=ei,e=Pd(),el(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:e,selectionRange:n},ei=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,j=x.memoizedState,y=t.stateNode,h=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:nt(t.type,w),j);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(v){le(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Bc,Bc=!1,x}function Ir(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&fa(t,n,i)}s=s.next}while(s!==r)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sh(e){var t=e.alternate;t!==null&&(e.alternate=null,Sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Qr],delete t[ea],delete t[kp],delete t[Np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(r!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}function ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ga(e,t,n),e=e.sibling;e!==null;)ga(e,t,n),e=e.sibling}var ve=null,rt=!1;function Et(e,t,n){for(n=n.child;n!==null;)Eh(e,t,n),n=n.sibling}function Eh(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ki,n)}catch{}switch(n.tag){case 5:Ne||Mn(n,t);case 6:var r=ve,s=rt;ve=null,Et(e,t,n),ve=r,rt=s,ve!==null&&(rt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(rt?(e=ve,n=n.stateNode,e.nodeType===8?co(e.parentNode,n):e.nodeType===1&&co(e,n),Wr(e)):co(ve,n.stateNode));break;case 4:r=ve,s=rt,ve=n.stateNode.containerInfo,rt=!0,Et(e,t,n),ve=r,rt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&fa(n,t,a),s=s.next}while(s!==r)}Et(e,t,n);break;case 1:if(!Ne&&(Mn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,t,l)}Et(e,t,n);break;case 21:Et(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Et(e,t,n),Ne=r):Et(e,t,n);break;default:Et(e,t,n)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fp),t.forEach(function(r){var s=Yp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,rt=!1;break e;case 3:ve=l.stateNode.containerInfo,rt=!0;break e;case 4:ve=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(ve===null)throw Error(P(160));Eh(i,a,s),ve=null,rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Th(t,e),t=t.sibling}function Th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),ct(e),r&4){try{Ir(3,e,e.return),Ri(3,e)}catch(w){le(e,e.return,w)}try{Ir(5,e,e.return)}catch(w){le(e,e.return,w)}}break;case 1:tt(t,e),ct(e),r&512&&n!==null&&Mn(n,n.return);break;case 5:if(tt(t,e),ct(e),r&512&&n!==null&&Mn(n,n.return),e.flags&32){var s=e.stateNode;try{Fr(s,"")}catch(w){le(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yu(s,i),Uo(l,a);var u=Uo(l,i);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?nd(s,p):d==="dangerouslySetInnerHTML"?ed(s,p):d==="children"?Fr(s,p):Fa(s,d,p,u)}switch(l){case"input":$o(s,i);break;case"textarea":Xu(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Bn(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Bn(s,!!i.multiple,i.defaultValue,!0):Bn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qr]=i}catch(w){le(e,e.return,w)}}break;case 6:if(tt(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){le(e,e.return,w)}}break;case 3:if(tt(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(w){le(e,e.return,w)}break;case 4:tt(t,e),ct(e);break;case 13:tt(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wl=ce())),r&4&&Vc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,tt(t,e),Ne=u):tt(t,e),ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(p=I=d;I!==null;){switch(m=I,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ir(4,m,m.return);break;case 1:Mn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){le(r,n,w)}}break;case 5:Mn(m,m.return);break;case 22:if(m.memoizedState!==null){qc(p);continue}}g!==null?(g.return=m,I=g):qc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=td("display",a))}catch(w){le(e,e.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){le(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tt(t,e),ct(e),r&4&&Vc(e);break;case 21:break;default:tt(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ch(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fr(s,""),r.flags&=-33);var i=Hc(e);ga(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Hc(e);pa(e,l,a);break;default:throw Error(P(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e,t,n){I=e,Ph(e)}function Ph(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ps;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ne;l=Ps;var u=Ne;if(Ps=a,(Ne=c)&&!u)for(I=s;I!==null;)a=I,c=a.child,a.tag===22&&a.memoizedState!==null?Jc(s):c!==null?(c.return=a,I=c):Jc(s);for(;i!==null;)I=i,Ph(i),i=i.sibling;I=s,Ps=l,Ne=u}Wc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Wc(e)}}function Wc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ri(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Wr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||t.flags&512&&ma(t)}catch(m){le(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function qc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Jc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ri(4,t)}catch(c){le(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){le(t,s,c)}}var i=t.return;try{ma(t)}catch(c){le(t,i,c)}break;case 5:var a=t.return;try{ma(t)}catch(c){le(t,a,c)}}}catch(c){le(t,t.return,c)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Vp=Math.ceil,mi=Ct.ReactCurrentDispatcher,xl=Ct.ReactCurrentOwner,Qe=Ct.ReactCurrentBatchConfig,K=0,xe=null,he=null,we=0,Fe=0,Un=Yt(0),pe=0,ns=null,pn=0,Ai=0,vl=0,$r=null,Ie=null,wl=0,sr=1/0,yt=null,pi=!1,ya=null,Vt=null,Os=!1,Dt=null,gi=0,Lr=0,xa=null,qs=-1,Js=0;function Pe(){return K&6?ce():qs!==-1?qs:qs=ce()}function Wt(e){return e.mode&1?K&2&&we!==0?we&-we:Cp.transition!==null?(Js===0&&(Js=md()),Js):(e=X,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function at(e,t,n,r){if(50<Lr)throw Lr=0,xa=null,Error(P(185));ls(e,n,r),(!(K&2)||e!==xe)&&(e===xe&&(!(K&2)&&(Ai|=n),pe===4&&$t(e,we)),Me(e,r),n===1&&K===0&&!(t.mode&1)&&(sr=ce()+500,Ti&&Xt()))}function Me(e,t){var n=e.callbackNode;Cm(e,t);var r=Zs(e,e===xe?we:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?Sp(Gc.bind(null,e)):Ud(Gc.bind(null,e)),bp(function(){!(K&6)&&Xt()}),n=null;else{switch(pd(r)){case 1:n=qa;break;case 4:n=hd;break;case 16:n=Xs;break;case 536870912:n=fd;break;default:n=Xs}n=Dh(n,Oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oh(e,t){if(qs=-1,Js=0,K&6)throw Error(P(327));var n=e.callbackNode;if(Jn()&&e.callbackNode!==n)return null;var r=Zs(e,e===xe?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yi(e,r);else{t=r;var s=K;K|=2;var i=Ah();(xe!==e||we!==t)&&(yt=null,sr=ce()+500,un(e,t));do try{Jp();break}catch(l){Rh(e,l)}while(!0);il(),mi.current=i,K=s,he!==null?t=0:(xe=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=Wo(e),s!==0&&(r=s,t=va(e,s))),t===1)throw n=ns,un(e,0),$t(e,r),Me(e,ce()),n;if(t===6)$t(e,r);else{if(s=e.current.alternate,!(r&30)&&!Wp(s)&&(t=yi(e,r),t===2&&(i=Wo(e),i!==0&&(r=i,t=va(e,i))),t===1))throw n=ns,un(e,0),$t(e,r),Me(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:nn(e,Ie,yt);break;case 3:if($t(e,r),(r&130023424)===r&&(t=wl+500-ce(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zo(nn.bind(null,e,Ie,yt),t);break}nn(e,Ie,yt);break;case 4:if($t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vp(r/1960))-r,10<r){e.timeoutHandle=Zo(nn.bind(null,e,Ie,yt),r);break}nn(e,Ie,yt);break;case 5:nn(e,Ie,yt);break;default:throw Error(P(329))}}}return Me(e,ce()),e.callbackNode===n?Oh.bind(null,e):null}function va(e,t){var n=$r;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=yi(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&wa(t)),e}function wa(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~vl,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(K&6)throw Error(P(327));Jn();var t=Zs(e,0);if(!(t&1))return Me(e,ce()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var r=Wo(e);r!==0&&(t=r,n=va(e,r))}if(n===1)throw n=ns,un(e,0),$t(e,t),Me(e,ce()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Ie,yt),Me(e,ce()),null}function jl(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(sr=ce()+500,Ti&&Xt())}}function gn(e){Dt!==null&&Dt.tag===0&&!(K&6)&&Jn();var t=K;K|=1;var n=Qe.transition,r=X;try{if(Qe.transition=null,X=1,e)return e()}finally{X=r,Qe.transition=n,K=t,!(K&6)&&Xt()}}function bl(){Fe=Un.current,re(Un)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jp(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(nl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&si();break;case 3:nr(),re(ze),re(Se),dl();break;case 5:ul(r);break;case 4:nr();break;case 13:re(ie);break;case 19:re(ie);break;case 10:ol(r.type._context);break;case 22:case 23:bl()}n=n.return}if(xe=e,he=e=qt(e.current,null),we=Fe=t,pe=0,ns=null,vl=Ai=pn=0,Ie=$r=null,an!==null){for(t=0;t<an.length;t++)if(n=an[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}an=null}return e}function Rh(e,t){do{var n=he;try{if(il(),Hs.current=fi,hi){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hi=!1}if(mn=0,ye=me=oe=null,Ar=!1,Zr=0,xl.current=null,n===null||n.return===null){pe=1,ns=t,he=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=we,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$c(a);if(g!==null){g.flags&=-257,Lc(g,a,l,i,t),g.mode&1&&Ic(i,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Ic(i,u,t),_l();break e}c=Error(P(426))}}else if(se&&l.mode&1){var j=$c(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Lc(j,a,l,i,t),rl(rr(c,l));break e}}i=c=rr(c,l),pe!==4&&(pe=2),$r===null?$r=[i]:$r.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ph(i,c,t);Ec(i,y);break e;case 1:l=c;var h=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vt===null||!Vt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=gh(i,l,t);Ec(i,v);break e}}i=i.return}while(i!==null)}$h(n)}catch(S){t=S,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Ah(){var e=mi.current;return mi.current=fi,e===null?fi:e}function _l(){(pe===0||pe===3||pe===2)&&(pe=4),xe===null||!(pn&268435455)&&!(Ai&268435455)||$t(xe,we)}function yi(e,t){var n=K;K|=2;var r=Ah();(xe!==e||we!==t)&&(yt=null,un(e,t));do try{qp();break}catch(s){Rh(e,s)}while(!0);if(il(),K=n,mi.current=r,he!==null)throw Error(P(261));return xe=null,we=0,pe}function qp(){for(;he!==null;)Ih(he)}function Jp(){for(;he!==null&&!xm();)Ih(he)}function Ih(e){var t=zh(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?$h(e):he=t,xl.current=null}function $h(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Up(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,he=null;return}}else if(n=Mp(n,t,Fe),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);pe===0&&(pe=5)}function nn(e,t,n){var r=X,s=Qe.transition;try{Qe.transition=null,X=1,Gp(e,t,n,r)}finally{Qe.transition=s,X=r}return null}function Gp(e,t,n,r){do Jn();while(Dt!==null);if(K&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Em(e,i),e===xe&&(he=xe=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Os||(Os=!0,Dh(Xs,function(){return Jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var a=X;X=1;var l=K;K|=4,xl.current=null,Bp(e,n),Th(n,e),mp(Yo),ei=!!Qo,Yo=Qo=null,e.current=n,Hp(n),vm(),K=l,X=a,Qe.transition=i}else e.current=n;if(Os&&(Os=!1,Dt=e,gi=s),i=e.pendingLanes,i===0&&(Vt=null),bm(n.stateNode),Me(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=ya,ya=null,e;return gi&1&&e.tag!==0&&Jn(),i=e.pendingLanes,i&1?e===xa?Lr++:(Lr=0,xa=e):Lr=0,Xt(),null}function Jn(){if(Dt!==null){var e=pd(gi),t=Qe.transition,n=X;try{if(Qe.transition=null,X=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,gi=0,K&6)throw Error(P(331));var s=K;for(K|=4,I=e.current;I!==null;){var i=I,a=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Ir(8,d,i)}var p=d.child;if(p!==null)p.return=d,I=p;else for(;I!==null;){d=I;var m=d.sibling,g=d.return;if(Sh(d),d===u){I=null;break}if(m!==null){m.return=g,I=m;break}I=g}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,I=a;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ir(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,I=y;break e}I=i.return}}var h=e.current;for(I=h;I!==null;){a=I;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,I=f;else e:for(a=h;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ri(9,l)}}catch(S){le(l,l.return,S)}if(l===a){I=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,I=v;break e}I=l.return}}if(K=s,Xt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ki,e)}catch{}r=!0}return r}finally{X=n,Qe.transition=t}}return!1}function Kc(e,t,n){t=rr(n,t),t=ph(e,t,1),e=Ht(e,t,1),t=Pe(),e!==null&&(ls(e,1,t),Me(e,t))}function le(e,t,n){if(e.tag===3)Kc(e,e,n);else for(;t!==null;){if(t.tag===3){Kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){e=rr(n,e),e=gh(t,e,1),t=Ht(t,e,1),e=Pe(),t!==null&&(ls(t,1,e),Me(t,e));break}}t=t.return}}function Kp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(we&n)===n&&(pe===4||pe===3&&(we&130023424)===we&&500>ce()-wl?un(e,0):vl|=n),Me(e,t)}function Lh(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var n=Pe();e=Nt(e,t),e!==null&&(ls(e,t,n),Me(e,n))}function Qp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lh(e,n)}function Yp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Lh(e,n)}var zh;zh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Dp(e,t,n);Le=!!(e.flags&131072)}else Le=!1,se&&t.flags&1048576&&Fd(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var s=Zn(t,Se.current);qn(t,n),s=fl(null,t,r,e,s,n);var i=ml();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(r)?(i=!0,ii(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ll(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,oa(t,r,e,n),t=ca(null,t,r,!0,i,n)):(t.tag=0,se&&i&&tl(t),Te(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zp(r),e=nt(r,e),s){case 0:t=la(null,t,r,e,n);break e;case 1:t=Mc(null,t,r,e,n);break e;case 11:t=zc(null,t,r,e,n);break e;case 14:t=Dc(null,t,r,nt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),la(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Mc(e,t,r,s,n);case 3:e:{if(wh(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Jd(e,t),ui(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=rr(Error(P(423)),t),t=Uc(e,t,r,n,s);break e}else if(r!==s){s=rr(Error(P(424)),t),t=Uc(e,t,r,n,s);break e}else for(Be=Bt(t.stateNode.containerInfo.firstChild),He=t,se=!0,it=null,n=Wd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),r===s){t=St(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return Gd(t),e===null&&ra(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Xo(r,s)?a=null:i!==null&&Xo(r,i)&&(t.flags|=32),vh(e,t),Te(e,t,a,n),t.child;case 6:return e===null&&ra(t),null;case 13:return jh(e,t,n);case 4:return cl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),zc(e,t,r,s,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,te(li,r._currentValue),r._currentValue=a,i!==null)if(lt(i.value,a)){if(i.children===s.children&&!ze.current){t=St(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=bt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sa(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),sa(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Te(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,qn(t,n),s=Xe(s),r=r(s),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,s=nt(r,t.pendingProps),s=nt(r.type,s),Dc(e,t,r,s,n);case 15:return yh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Ws(e,t),t.tag=1,De(r)?(e=!0,ii(t)):e=!1,qn(t,n),mh(t,r,s),oa(t,r,s,n),ca(null,t,r,!0,e,n);case 19:return bh(e,t,n);case 22:return xh(e,t,n)}throw Error(P(156,t.tag))};function Dh(e,t){return dd(e,t)}function Xp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new Xp(e,t,n,r)}function kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ha)return 11;if(e===Va)return 14}return 2}function qt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")kl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pn:return dn(n.children,s,i,t);case Ba:a=8,s|=8;break;case Po:return e=Ke(12,n,t,s|2),e.elementType=Po,e.lanes=i,e;case Oo:return e=Ke(13,n,t,s),e.elementType=Oo,e.lanes=i,e;case Ro:return e=Ke(19,n,t,s),e.elementType=Ro,e.lanes=i,e;case Gu:return Ii(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:a=10;break e;case Ju:a=9;break e;case Ha:a=11;break e;case Va:a=14;break e;case Ot:a=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ke(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function dn(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function Ii(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function xo(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function vo(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nl(e,t,n,r,s,i,a,l,c){return e=new e0(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ll(i),e}function t0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mh(e){if(!e)return Kt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(De(n))return Md(e,n,t)}return t}function Uh(e,t,n,r,s,i,a,l,c){return e=Nl(n,r,!0,e,s,i,a,l,c),e.context=Mh(null),n=e.current,r=Pe(),s=Wt(n),i=bt(r,s),i.callback=t??null,Ht(n,i,s),e.current.lanes=s,ls(e,s,r),Me(e,r),e}function $i(e,t,n,r){var s=t.current,i=Pe(),a=Wt(s);return n=Mh(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(s,t,a),e!==null&&(at(e,s,a,i),Bs(e,s,a)),a}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sl(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function n0(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}Li.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));$i(e,t,null,null)};Li.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){$i(null,e,null,null)}),t[kt]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=xd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&t!==0&&t<It[n].priority;n++);It.splice(n,0,e),n===0&&wd(e)}};function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function r0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=xi(a);i.call(u)}}var a=Uh(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=a,e[kt]=a.current,Gr(e.nodeType===8?e.parentNode:e),gn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=xi(c);l.call(u)}}var c=Nl(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=c,e[kt]=c.current,Gr(e.nodeType===8?e.parentNode:e),gn(function(){$i(t,c,n,r)}),c}function Di(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=xi(a);l.call(c)}}$i(t,a,e,s)}else a=r0(n,t,e,s,r);return xi(a)}gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kr(t.pendingLanes);n!==0&&(Ja(t,n|1),Me(t,ce()),!(K&6)&&(sr=ce()+500,Xt()))}break;case 13:gn(function(){var r=Nt(e,1);if(r!==null){var s=Pe();at(r,e,1,s)}}),Sl(e,1)}};Ga=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=Pe();at(t,e,134217728,n)}Sl(e,134217728)}};yd=function(e){if(e.tag===13){var t=Wt(e),n=Nt(e,t);if(n!==null){var r=Pe();at(n,e,t,r)}Sl(e,t)}};xd=function(){return X};vd=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};Bo=function(e,t,n){switch(t){case"input":if($o(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ei(r);if(!s)throw Error(P(90));Qu(r),$o(r,s)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}};id=jl;od=gn;var s0={usingClientEntryPoint:!1,Events:[us,In,Ei,rd,sd,jl]},wr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i0={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cd(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{ki=Rs.inject(i0),ft=Rs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;We.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!El(t))throw Error(P(200));return t0(e,t,null,n)};We.createRoot=function(e,t){if(!El(e))throw Error(P(299));var n=!1,r="",s=Fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nl(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,Gr(e.nodeType===8?e.parentNode:e),new Cl(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=cd(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return gn(e)};We.hydrate=function(e,t,n){if(!zi(t))throw Error(P(200));return Di(null,e,t,!0,n)};We.hydrateRoot=function(e,t,n){if(!El(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Uh(t,null,e,1,n??null,s,!1,i,a),e[kt]=t.current,Gr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Li(t)};We.render=function(e,t,n){if(!zi(t))throw Error(P(200));return Di(null,e,t,!1,n)};We.unmountComponentAtNode=function(e){if(!zi(e))throw Error(P(40));return e._reactRootContainer?(gn(function(){Di(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};We.unstable_batchedUpdates=jl;We.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zi(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Di(e,t,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bh)}catch(e){console.error(e)}}Bh(),Bu.exports=We;var o0=Bu.exports,Hh,Xc=o0;Hh=Xc.createRoot,Xc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(this,arguments)}var cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cn||(cn={}));const Zc="popstate";function a0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return ja("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vh(s)}return c0(t,n,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l0(){return Math.random().toString(36).substr(2,8)}function eu(e,t){return{usr:e.state,key:e.key,idx:t}}function ja(e,t,n,r){return n===void 0&&(n=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mi(t):t,{state:n,key:t&&t.key||r||l0()})}function Vh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function c0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=cn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(rs({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function p(){l=cn.Pop;let j=d(),y=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:y})}function m(j,y){l=cn.Push;let h=ja(w.location,j,y);u=d()+1;let f=eu(h,u),v=w.createHref(h);try{a.pushState(f,"",v)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(v)}i&&c&&c({action:l,location:w.location,delta:1})}function g(j,y){l=cn.Replace;let h=ja(w.location,j,y);u=d();let f=eu(h,u),v=w.createHref(h);a.replaceState(f,"",v),i&&c&&c({action:l,location:w.location,delta:0})}function x(j){let y=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof j=="string"?j:Vh(j);return h=h.replace(/ $/,"%20"),pt(y,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,y)}let w={get action(){return l},get location(){return e(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zc,p),c=j,()=>{s.removeEventListener(Zc,p),c=null}},createHref(j){return t(s,j)},createURL:x,encodeLocation(j){let y=x(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(j){return a.go(j)}};return w}var tu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tu||(tu={}));function u0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Mi(e):e;return{pathname:n?n.startsWith("/")?n:h0(n,t):t,search:y0(r),hash:x0(s)}}function h0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m0(e,t){let n=f0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Mi(e):(s=rs({},e),pt(!s.pathname||!s.pathname.includes("?"),wo("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),wo("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),wo("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?t[p]:"/"}let c=d0(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const g0=e=>e.join("/").replace(/\/\/+/g,"/"),y0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wh=["post","put","patch","delete"];new Set(Wh);const v0=["get",...Wh];new Set(v0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}const qh=k.createContext(null),Tl=k.createContext(null),Pl=k.createContext(null),Ol=k.createContext({outlet:null,matches:[],isDataRoute:!1});function Rl(){return k.useContext(Pl)!=null}function Jh(){return Rl()||pt(!1),k.useContext(Pl).location}function Gh(e){k.useContext(Tl).static||k.useLayoutEffect(e)}function w0(){let{isDataRoute:e}=k.useContext(Ol);return e?N0():j0()}function j0(){Rl()||pt(!1);let e=k.useContext(qh),{basename:t,future:n,navigator:r}=k.useContext(Tl),{matches:s}=k.useContext(Ol),{pathname:i}=Jh(),a=JSON.stringify(m0(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return Gh(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=p0(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:g0([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,a,i,e])}var Kh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kh||{}),Qh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qh||{});function b0(e){let t=k.useContext(qh);return t||pt(!1),t}function _0(e){let t=k.useContext(Ol);return t||pt(!1),t}function k0(e){let t=_0(),n=t.matches[t.matches.length-1];return n.route.id||pt(!1),n.route.id}function N0(){let{router:e}=b0(Kh.UseNavigateStable),t=k0(Qh.UseNavigateStable),n=k.useRef(!1);return Gh(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vi({fromRouteId:t},i)))},[e,t])}function S0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function C0(e){let{basename:t="/",children:n=null,location:r,navigationType:s=cn.Pop,navigator:i,static:a=!1,future:l}=e;Rl()&&pt(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:a,future:vi({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Mi(r));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:x="default"}=r,w=k.useMemo(()=>{let j=u0(d,c);return j==null?null:{location:{pathname:j,search:p,hash:m,state:g,key:x},navigationType:s}},[c,d,p,m,g,x,s]);return w==null?null:k.createElement(Tl.Provider,{value:u},k.createElement(Pl.Provider,{children:n,value:w}))}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function E0(e,t){let n=ba(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const T0="6";try{window.__reactRouterVersion=T0}catch{}const P0="startTransition",nu=Kf[P0];function O0(e){let{basename:t,children:n,future:r,window:s}=e,i=k.useRef();i.current==null&&(i.current=a0({window:s,v5Compat:!0}));let a=i.current,[l,c]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=k.useCallback(p=>{u&&nu?nu(()=>c(p)):c(p)},[c,u]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>S0(r),[r]),k.createElement(C0,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var ru;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ru||(ru={}));var su;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(su||(su={}));function R0(e){let t=k.useRef(ba(e)),n=k.useRef(!1),r=Jh(),s=k.useMemo(()=>E0(r.search,n.current?null:t.current),[r.search]),i=w0(),a=k.useCallback((l,c)=>{const u=ba(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}const A0="modulepreload",I0=function(e){return"/"+e},iu={},ir=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=I0(c),c in iu)return;iu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":A0,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},$0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:r}=await Promise.resolve().then(()=>dr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Al extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class L0 extends Al{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class z0 extends Al{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D0 extends Al{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _a;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_a||(_a={}));var M0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class U0{constructor(t,{headers:n={},customFetch:r,region:s=_a.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return M0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new L0(x)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new z0(d);if(!d.ok)throw new D0(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield d.json():m==="application/octet-stream"?g=yield d.blob():m==="text/event-stream"?g=d:m==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var $e={},Il={},Ui={},hs={},Fi={},Bi={},F0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},or=F0();const B0=or.fetch,Yh=or.fetch.bind(or),Xh=or.Headers,H0=or.Request,V0=or.Response,dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xh,Request:H0,Response:V0,default:Yh,fetch:B0},Symbol.toStringTag,{value:"Module"})),W0=Af(dr);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});let q0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hi.default=q0;var Zh=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});const J0=Zh(W0),G0=Zh(Hi);let K0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=J0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,p=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(p=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,g="OK")}catch{i.status===404&&w===""?(m=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&this.shouldThrowOnError)throw new G0.default(u)}return{error:u,data:d,count:p,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Bi.default=K0;var Q0=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fi,"__esModule",{value:!0});const Y0=Q0(Bi);let X0=class extends Y0.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fi.default=X0;var Z0=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const eg=Z0(Fi);let tg=class extends eg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};hs.default=tg;var ng=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const jr=ng(hs);let rg=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new jr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new jr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ui.default=rg;var Vi={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.version=void 0;Wi.version="0.0.0-automated";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.DEFAULT_HEADERS=void 0;const sg=Wi;Vi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sg.version}`};var ef=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Il,"__esModule",{value:!0});const ig=ef(Ui),og=ef(hs),ag=Vi;let lg=class tf{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ag.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ig.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(a="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new og.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Il.default=lg;var hr=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const nf=hr(Il);$e.PostgrestClient=nf.default;const rf=hr(Ui);$e.PostgrestQueryBuilder=rf.default;const sf=hr(hs);$e.PostgrestFilterBuilder=sf.default;const of=hr(Fi);$e.PostgrestTransformBuilder=of.default;const af=hr(Bi);$e.PostgrestBuilder=af.default;const lf=hr(Hi);$e.PostgrestError=lf.default;var cg=$e.default={PostgrestClient:nf.default,PostgrestQueryBuilder:rf.default,PostgrestFilterBuilder:sf.default,PostgrestTransformBuilder:of.default,PostgrestBuilder:af.default,PostgrestError:lf.default};const{PostgrestClient:ug,PostgrestQueryBuilder:gv,PostgrestFilterBuilder:yv,PostgrestTransformBuilder:xv,PostgrestBuilder:vv,PostgrestError:wv}=cg,dg="2.11.2",hg={"X-Client-Info":`realtime-js/${dg}`},fg="1.0.0",cf=1e4,mg=1e3;var Gn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gn||(Gn={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var ka;(function(e){e.websocket="websocket"})(ka||(ka={}));var sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sn||(sn={}));class pg{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class uf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const ou=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=gg(a,e,t,s),i),{})},gg=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?df(i,a):Na(a)},df=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return wg(t,n)}switch(e){case ee.bool:return yg(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return xg(t);case ee.json:case ee.jsonb:return vg(t);case ee.timestamp:return jg(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Na(t);default:return Na(t)}},Na=e=>e,yg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>df(t,l))}return e},jg=e=>typeof e=="string"?e.replace(" ","T"):e,hf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jo{constructor(t,n,r={},s=cf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var au;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(au||(au={}));class zr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=zr.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zr.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const p=i[u];if(p){const m=d.map(j=>j.presence_ref),g=p.map(j=>j.presence_ref),x=d.filter(j=>g.indexOf(j.presence_ref)<0),w=p.filter(j=>m.indexOf(j.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const p=t[l].map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lu||(lu={}));var cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cu||(cu={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class $l{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,st.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new zr(this),this.broadcastEndpointURL=hf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(xt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xt.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(xt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,x=[];for(let w=0;w<g;w++){const j=m[w],{filter:{event:y,schema:h,table:f,filter:v}}=j,S=d&&d[w];if(S&&S.event===y&&S.schema===h&&S.table===f&&S.filter===v)x.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(xt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new jo(this,st.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=st;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,w,j;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(w=g.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(g=>g.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var x,w,j,y,h,f;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const v=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return v&&((w=n.ids)===null||w===void 0?void 0:w.includes(v))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(h=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return v==="*"||v===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:j,commit_timestamp:y,type:h,errors:f}=x;m=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:y,eventType:h,new:{},old:{},errors:f}),this._getPayloadRecords(x))}g.callback(m,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&$l.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ou(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ou(t.columns,t.old_record)),n}}const bg=()=>{},_g=typeof WebSocket<"u",kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ng{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hg,this.params={},this.timeout=cf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bg,this.conn=null,this.sendBuffer=[],this.serializer=new pg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>ir(async()=>{const{default:c}=await Promise.resolve().then(()=>dr);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${ka.websocket}`,this.httpEndpoint=hf(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_g){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Sg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ir(async()=>{const{default:t}=await import("./browser-DWYvPlRM.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fg}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return sn.Connecting;case Gn.open:return sn.Open;case Gn.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(t,n={config:{}}){const r=new $l(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(st.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(mg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([kg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Sg{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ll extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cg extends Ll{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sa extends Ll{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Eg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:r}=await Promise.resolve().then(()=>dr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Tg=()=>Eg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ir(()=>Promise.resolve().then(()=>dr),void 0)).Response:Response}),Ca=e=>{if(Array.isArray(e))return e.map(n=>Ca(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ca(r)}),t};var wn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const bo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pg=(e,t,n)=>wn(void 0,void 0,void 0,function*(){const r=yield Tg();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Cg(bo(s),e.status||500))}).catch(s=>{t(new Sa(bo(s),s))}):t(new Sa(bo(e),e))}),Og=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function fs(e,t,n,r,s,i){return wn(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,Og(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Pg(c,l,r))})})}function wi(e,t,n,r){return wn(this,void 0,void 0,function*(){return fs(e,"GET",t,n,r)})}function At(e,t,n,r,s){return wn(this,void 0,void 0,function*(){return fs(e,"POST",t,r,s,n)})}function Rg(e,t,n,r,s){return wn(this,void 0,void 0,function*(){return fs(e,"PUT",t,r,s,n)})}function Ag(e,t,n,r){return wn(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function mf(e,t,n,r,s){return wn(this,void 0,void 0,function*(){return fs(e,"DELETE",t,r,s,n)})}var Ae=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ig={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $g{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ff(s)}uploadOrUpdate(t,n,r,s){return Ae(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},uu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield p.json();return p.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:uu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield p.json();return p.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(ge(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Ll("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(t,n){return Ae(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield wi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}info(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ca(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Ag(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof Sa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ig),n),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Lg="2.7.1",zg={"X-Client-Info":`storage-js/${Lg}`};var kn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Dg{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},zg),n),this.fetch=ff(r)}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return kn(this,void 0,void 0,function*(){try{return{data:yield Rg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}}class Mg extends Dg{constructor(t,n={},r){super(t,n,r)}from(t){return new $g(this.url,this.headers,t,this.fetch)}}const Ug="2.49.4";let Sr="";typeof Deno<"u"?Sr="deno":typeof document<"u"?Sr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sr="react-native":Sr="node";const Fg={"X-Client-Info":`supabase-js-${Sr}/${Ug}`},Bg={headers:Fg},Hg={schema:"public"},Vg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wg={};var qg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yh:t=fetch,(...n)=>t(...n)},Gg=()=>typeof Headers>"u"?Xh:Headers,Kg=(e,t,n)=>{const r=Jg(n),s=Gg();return(i,a)=>qg(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var Qg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Yg(e){return e.replace(/\/$/,"")}function Xg(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:a,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Qg(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const pf="2.69.1",Cn=30*1e3,Ea=3,_o=Ea*Cn,Zg="http://localhost:9999",ey="supabase.auth.token",ty={"X-Client-Info":`gotrue-js/${pf}`},Ta="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ry=6e5;class zl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sy extends zl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function iy(e){return B(e)&&e.name==="AuthApiError"}class yf extends zl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Zt extends zl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Tt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oy(e){return B(e)&&e.name==="AuthSessionMissingError"}class ko extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Is extends Zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ay(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class du extends Zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pa extends Zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function No(e){return B(e)&&e.name==="AuthRetryableFetchError"}class hu extends Zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dr extends Zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mu=` 	
\r=`.split(""),ly=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mu.length;t+=1)e[mu[t].charCodeAt(0)]=-2;for(let t=0;t<fu.length;t+=1)e[fu[t].charCodeAt(0)]=t;return e})();function xf(e,t,n){const r=ly[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pu(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{dy(a,r,n)};for(let a=0;a<e.length;a+=1)xf(e.charCodeAt(a),s,i);return t.join("")}function cy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uy(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}cy(r,t)}}function dy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hy(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function fy(e){const t=[];return uy(e,n=>t.push(n)),new Uint8Array(t)}function my(e){return Math.round(Date.now()/1e3)+e}function py(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Mr=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function gy(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:r}=await Promise.resolve().then(()=>dr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$s=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ls=async(e,t)=>{await e.removeItem(t)};class qi{constructor(){this.promise=new qi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}qi.promiseConstructor=Promise;function So(e){const t=e.split(".");if(t.length!==3)throw new Dr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ny.test(t[r]))throw new Dr("JWT not in base64url format");return{header:JSON.parse(pu(t[0])),payload:JSON.parse(pu(t[1])),signature:hy(t[2]),raw:{header:t[0],payload:t[1]}}}async function xy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vy(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function wy(e){return("0"+e.toString(16)).substr(-2)}function jy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,wy).join("")}async function by(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _y(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await by(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(e,t,n=!1){const r=jy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wf(e,`${t}-code-verifier`,s);const i=await _y(r);return[i,r===i?"plain":"s256"]}const ky=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ny(e){const t=e.headers.get(Ta);if(!t||!t.match(ky))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Cy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ey=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ty=[502,503,504];async function gu(e){var t;if(!yy(e))throw new Pa(rn(e),0);if(Ty.includes(e.status))throw new Pa(rn(e),e.status);let n;try{n=await e.json()}catch(i){throw new yf(rn(i),i)}let r;const s=Ny(e);if(s&&s.getTime()>=gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hu(rn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new hu(rn(n),e.status,n.weak_password.reasons);throw new sy(rn(n),e.status||500,r)}const Py=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ta]||(i[Ta]=gf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Oy(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Oy(e,t,n,r,s,i){const a=Py(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Pa(rn(c),0)}if(l.ok||await gu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await gu(c)}}function Pt(e){var t;let n=null;$y(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=my(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function yu(e){const t=Pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ry(e){return{data:e,error:null}}function Ay(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Ey(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Iy(e){return e}function $y(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ly=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class zy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ly(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ay,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Iy});if(d.error)throw d.error;const p=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Lt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const Dy={getItem:e=>Mr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Mr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Mr()&&globalThis.localStorage.removeItem(e)}};function xu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function My(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sn={debug:!!(globalThis&&Mr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uy extends jf{}async function Fy(e,t,n){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}My();const By={url:Zg,storageKey:ey,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ty,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vu(e,t,n){return await n()}class ss{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},By),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vf(s.fetch),this.lock=s.lock||vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Fy:this.lock=vu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Mr()?this.storage=Dy:(this.memoryStorage={},this.storage=xu(this.memoryStorage)):(this.memoryStorage={},this.storage=xu(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ay(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new yf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:p,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Nn(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Pt})}else if("phone"in t){const{phone:d,password:p,options:m}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Pt})}else throw new As("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yu})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yu})}else throw new As("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ko}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await $s(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Pt});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ko}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nn(this.storage,this.storageKey));const{error:p}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Pt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Nn(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Ry})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Tt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new As("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_o:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(n){if(B(n))return oy(n)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Tt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Nn(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Lt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=So(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ut())throw new Is("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Is(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new du("No code detected.");const{data:h,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Is("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let m=d+p;c&&(m=parseInt(c));const g=m-d;g*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const x=m-p;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:m,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(iy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=py(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Nn(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:p,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vy(async s=>(s>0&&await xy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&No(i)&&Date.now()+a-r<Cn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ut()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $s(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_o;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_o}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),No(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const a={session:null,error:i};return No(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${Ea} ticks`),s<=Ea&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=So(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+ry>Date.now()))return r;const{data:s,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Dr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new Dr("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=So(r);if(Sy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const u=Cy(s.alg),d=await this.fetchJwk(s.kid,n),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,a,fy(`${l}.${c}`)))throw new Dr("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ss.nextInstanceID=0;const Hy=ss;class Vy extends Hy{constructor(t){super(t)}}var Wy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(p){a(p)}}function c(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class qy{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Yg(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Hg,realtime:Wg,auth:Object.assign(Object.assign({},Vg),{storageKey:c}),global:Bg},d=Xg(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Kg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ug(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new U0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Wy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vy({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ng(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jy=(e,t,n)=>new qy(e,t,n),Gy="https://ctraqyptndauyvwtqqds.supabase.co",Ky="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0cmFxeXB0bmRhdXl2d3RxcWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5Nzk5MzUsImV4cCI6MjA2MDU1NTkzNX0.HRX1BH4zRjkzmAKzcog3alZC2R35Ee3shPbTJZpyHJ0",Q=Jy(Gy,Ky,{auth:{flowType:"pkce",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:localStorage}}),Qy="expense-tracker-db",Yy=3,Kn="transactions",Qn="categories",Yn="budgets",Jt="preferences",ms=()=>new Promise((e,t)=>{const n=indexedDB.open(Qy,Yy);n.onerror=r=>{t(r.target.error)},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(Kn)&&s.deleteObjectStore(Kn),s.objectStoreNames.contains(Qn)&&s.deleteObjectStore(Qn),s.objectStoreNames.contains(Yn)&&s.deleteObjectStore(Yn),s.objectStoreNames.contains(Jt)&&s.deleteObjectStore(Jt);const i=s.createObjectStore(Kn,{keyPath:"id"});i.createIndex("date","date",{unique:!1}),i.createIndex("category","category",{unique:!1}),i.createIndex("userId","userId",{unique:!1}),s.createObjectStore(Qn,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}),s.createObjectStore(Yn,{keyPath:"categoryId"}).createIndex("userId","userId",{unique:!1}),s.createObjectStore(Jt,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})}}),ps=async()=>{const{data:{user:e}}=await Q.auth.getUser();return(e==null?void 0:e.id)||null},Oa=async e=>{const t=await ms(),n=[Kn,Qn,Yn,Jt];await Promise.all(n.map(r=>new Promise((s,i)=>{const u=t.transaction(r,"readwrite").objectStore(r).index("userId").openCursor(IDBKeyRange.only(e));u.onsuccess=d=>{const p=d.target.result;p?(p.delete(),p.continue()):s()},u.onerror=()=>i(u.error)})))},Dl=async e=>{const t=await ps();if(!t)return[];const n=await ms();return new Promise((r,s)=>{const c=n.transaction(e,"readonly").objectStore(e).index("userId").getAll(IDBKeyRange.only(t));c.onsuccess=()=>{r(c.result)},c.onerror=()=>{s(c.error)}})},Ml=async(e,t)=>{const n=await ps();if(!n)throw new Error("No authenticated user");const r={...t,userId:n},s=await ms();return new Promise((i,a)=>{const u=s.transaction(e,"readwrite").objectStore(e).put(r);u.onsuccess=()=>{i(r)},u.onerror=()=>{a(u.error)}})},Xy=()=>Dl(Kn),Zy=e=>Ml(Kn,e),ex=()=>Dl(Qn),tx=e=>Ml(Qn,e),nx=()=>Dl(Yn),rx=e=>Ml(Yn,e),sx=async()=>{const e=await ps();if(!e)return null;const t=await ms();return new Promise((n,r)=>{const l=t.transaction(Jt,"readonly").objectStore(Jt).index("userId").get(e);l.onsuccess=()=>{var c;n(((c=l.result)==null?void 0:c.data)||null)},l.onerror=()=>{r(l.error)}})},ix=async e=>{const t=await ps();if(!t)throw new Error("No authenticated user");const n=await ms();return new Promise((r,s)=>{const l=n.transaction(Jt,"readwrite").objectStore(Jt).put({id:`${t}-preferences`,userId:t,data:e});l.onsuccess=()=>{r(e)},l.onerror=()=>{s(l.error)}})},ox=async()=>{const e=await Xy(),t=await ex(),n=await nx(),r=await sx(),s={transactions:e,categories:t,budgets:n,preferences:r,exportDate:new Date().toISOString()};return JSON.stringify(s)},ax=async e=>{const t=await ps();if(!t)throw new Error("No authenticated user");try{const n=JSON.parse(e);await Oa(t),n.transactions&&await Promise.all(n.transactions.map(r=>Zy(r))),n.categories&&await Promise.all(n.categories.map(r=>tx(r))),n.budgets&&await Promise.all(n.budgets.map(r=>rx(r))),n.preferences&&await ix(n.preferences)}catch(n){throw console.error("Error importing data:",n),new Error("Failed to import data")}},bf=k.createContext(void 0),lx=({children:e})=>{const[t,n]=k.useState(null),[r,s]=k.useState(!0),[i,a]=k.useState(!1);k.useEffect(()=>{Q.auth.getSession().then(({data:{session:d}})=>{d!=null&&d.user?d.user.email_confirmed_at?n(d.user):(Q.auth.signOut(),n(null)):n(null),s(!1)});const{data:{subscription:u}}=Q.auth.onAuthStateChange(async(d,p)=>{p!=null&&p.user?p.user.email_confirmed_at?(n(p.user),a(!1)):(await Q.auth.signOut(),n(null)):(t&&await Oa(t.id),n(null))});return()=>u.unsubscribe()},[]);const c={user:t,loading:r,signOut:async()=>{t&&await Oa(t.id),await Q.auth.signOut(),n(null)},showAuthModal:i,setShowAuthModal:a};return o.jsx(bf.Provider,{value:c,children:e})},jn=()=>{const e=k.useContext(bf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};async function wu(){const{data:e,error:t}=await Q.from("transactions").select("*").order("date",{ascending:!1});if(t)throw t;return e.map(n=>({...n,isRecurring:n.is_recurring}))}async function cx(e){var r;const{data:t,error:n}=await Q.from("transactions").insert([{amount:e.amount,category:e.category,merchant:e.merchant,note:e.note,date:e.date,is_recurring:e.isRecurring,type:e.type,user_id:(r=(await Q.auth.getUser()).data.user)==null?void 0:r.id}]).select().single();if(n)throw n;return{...t,isRecurring:t.is_recurring}}async function ux(e,t){const{data:n,error:r}=await Q.from("transactions").update({amount:t.amount,category:t.category,merchant:t.merchant,note:t.note,date:t.date,is_recurring:t.isRecurring,type:t.type}).eq("id",e).select().single();if(r)throw r;return{...n,isRecurring:n.is_recurring}}async function dx(e){const{error:t}=await Q.from("transactions").delete().eq("id",e);if(t)throw t}async function ju(){const{data:e,error:t}=await Q.from("categories").select("*").order("name");if(t)throw t;return e}async function hx(e){var r;const{data:t,error:n}=await Q.from("categories").insert([{...e,user_id:(r=(await Q.auth.getUser()).data.user)==null?void 0:r.id}]).select().single();if(n)throw n;return t}async function bu(){const{data:e,error:t}=await Q.from("budgets").select("*");if(t)throw t;return e}async function fx(e,t){var s;const{data:n,error:r}=await Q.from("budgets").upsert({category_id:e,...t,user_id:(s=(await Q.auth.getUser()).data.user)==null?void 0:s.id}).select().single();if(r)throw r;return n}async function Co(){const{data:{user:e}}=await Q.auth.getUser();if(!e)throw new Error("No user found");const{data:t,error:n}=await Q.from("user_preferences").select().match({user_id:e.id}).maybeSingle();if(n)throw n;return t||{user_id:e.id,currency:"",locale:"en-IN",plan_tier:"free"}}async function mx(e){const{data:{user:t}}=await Q.auth.getUser();if(!t)throw new Error("No user found");const{data:n,error:r}=await Q.from("user_preferences").upsert({user_id:t.id,...e}).select().single();if(r)throw r;return n}function px(e,t,n,r){const s=[],i=Q.channel("transactions_changes").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},()=>e()).subscribe();s.push(i);const a=Q.channel("categories_changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>t()).subscribe();s.push(a);const l=Q.channel("budgets_changes").on("postgres_changes",{event:"*",schema:"public",table:"budgets"},()=>n()).subscribe();s.push(l);const c=Q.channel("preferences_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_preferences"},()=>r()).subscribe();return s.push(c),()=>{s.forEach(u=>{Q.removeChannel(u)})}}const _u={currency:"",locale:"en-IN",planTier:"free"},_f=k.createContext(void 0),gx=({children:e})=>{const{user:t}=jn(),[n,r]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState([]),[c,u]=k.useState(_u),d=async()=>{if(t)try{const _=await Co();_&&u(_)}catch(_){console.error("Error refreshing user preferences:",_)}};k.useEffect(()=>{let _=!0;return(async()=>{if(!t){r([]),i([]),l([]),u(_u);return}try{const[A,z,J,G]=await Promise.all([wu(),ju(),bu(),Co()]);if(!_)return;if(r(A),i(z),l(J),G&&u(G),z.length===0){const be=[{name:"Food",emoji:"",color:"#3B82F6"},{name:"Transport",emoji:"",color:"#10B981"},{name:"Shopping",emoji:"",color:"#F59E0B"},{name:"Entertainment",emoji:"",color:"#8B5CF6"},{name:"Bills",emoji:"",color:"#EC4899"},{name:"Salary",emoji:"",color:"#22C55E"}];for(const b of be)_&&await x(b)}}catch(A){console.error("Error loading data:",A)}})(),()=>{_=!1}},[t]),k.useEffect(()=>{if(!t)return;const _=px(()=>wu().then(O=>r(O)),()=>ju().then(O=>i(O)),()=>bu().then(O=>l(O)),()=>Co().then(O=>{O&&u(O)}));return()=>{typeof _=="function"&&_()}},[t]);const p=async _=>{if(!t)return;const O=await cx(_);r(A=>[...A,O])},m=async(_,O)=>{if(!t)return;const A=await ux(_,O);r(z=>z.map(J=>J.id===_?A:J))},g=async _=>{t&&(await dx(_),r(O=>O.filter(A=>A.id!==_)))},x=async _=>{if(!t)return;const O=await hx(_);i(A=>[...A,O])},w=async(_,O)=>{if(!t)return;const A=await fx(_,{limit:O});l(z=>{const J=z.findIndex(G=>G.categoryId===_);if(J>=0){const G=[...z];return G[J]=A,G}return[...z,A]})},j=async _=>{if(!t)return;const O=await mx(_);u(O)},y=()=>n.reduce((_,O)=>(O.type==="expense"&&(_[O.category]=(_[O.category]||0)+O.amount),_),{}),h=()=>n.reduce((_,O)=>{const A=new Date(O.date).getDay(),z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return O.type==="expense"&&(_[z[A]]=(_[z[A]]||0)+O.amount),_},{}),f=()=>n.filter(_=>_.type==="expense").reduce((_,O)=>_+O.amount,0),v=()=>n.filter(_=>_.type==="income").reduce((_,O)=>_+O.amount,0),T={transactions:n,categories:s,budgets:a,userPreferences:c,addTransaction:p,updateTransaction:m,removeTransaction:g,addCategory:x,updateBudget:w,updateUserPreferences:j,getTransactionsByCategory:y,getTransactionsByDay:h,getTotalExpenses:f,getTotalIncome:v,getNetAmount:()=>v()-f(),isFeatureAvailable:_=>c!=null&&c.planTier?({advancedAnalytics:["pro"],unlimitedTransactions:["pro"],googleDriveBackup:["pro"],familyWorkspace:["pro"],goalSimulator:["pro"],recurringBillAlerts:["pro"],customCategories:["pro"]}[_]||[]).includes(c.planTier):!1,refreshUserPreferences:d};return o.jsx(_f.Provider,{value:T,children:e})},Ce=()=>{const e=k.useContext(_f);if(!e)throw new Error("useApp must be used within an AppProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...yx,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xx(e)}`,l].join(" "),...u},[...t.map(([p,m])=>k.createElement(p,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=M("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=M("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=M("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=M("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=M("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=M("Clock8",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 8 14",key:"tmc9b4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=M("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=M("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=M("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=M("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=M("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=M("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=M("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=M("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mx=({onMenuToggle:e})=>{var x;const{userPreferences:t}=Ce(),{user:n,signOut:r,setShowAuthModal:s}=jn(),[i,a]=k.useState(!1),[l,c]=k.useState(new Date),[u,d]=k.useState(!1);k.useEffect(()=>{const w=()=>{a(window.scrollY>10)};window.addEventListener("scroll",w);const j=setInterval(()=>{c(new Date)},6e4);return()=>{window.removeEventListener("scroll",w),clearInterval(j)}},[]);const p=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(l),m=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(l),g=()=>{switch(t==null?void 0:t.planTier){case"plus":return o.jsx("span",{className:"text-amber-500 font-semibold",children:"PLUS"});case"pro":return o.jsx("span",{className:"text-indigo-500 font-semibold",children:"PRO"});default:return o.jsx("span",{className:"text-gray-500 font-semibold",children:"FREE"})}};return o.jsx("header",{className:`fixed top-0 left-0 right-0 z-10 transition-all duration-300 ${i?"bg-white bg-opacity-90 backdrop-blur-md shadow-md py-2":"bg-transparent py-4"}`,children:o.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors mr-3","aria-label":"Toggle menu",children:o.jsx(Ox,{size:24})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:["Zero-Import ",o.jsx("span",{className:"text-blue-600",children:"Expense Tracker"})]}),o.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[p,"  ",m," ",n&&` ${g()}`]})]})]}),o.jsxs("div",{className:"relative",children:[n?o.jsx("button",{className:"p-2 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",onClick:()=>d(!u),"aria-label":"User menu",children:o.jsx(kx,{size:24})}):o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(Sx,{size:18,className:"mr-2"}),"Sign In"]}),u&&n&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 border border-gray-100",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[o.jsx("p",{className:"text-sm font-medium text-gray-800",children:n.email}),o.jsx("p",{className:"text-xs text-gray-500",children:((x=t==null?void 0:t.planTier)==null?void 0:x.toUpperCase())||"FREE"})]}),o.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[o.jsx(Cx,{size:16,className:"mr-2"}),"Sign Out"]})]})]})]})})},Ux=({isOpen:e,isCollapsed:t,onClose:n,onCollapse:r,onNavigate:s,currentPage:i})=>{var p,m,g;const{userPreferences:a,isFeatureAvailable:l}=Ce(),{user:c}=jn(),u=[{id:"dashboard",label:"Dashboard",icon:o.jsx(Nx,{size:20})},{id:"transactions",label:"Transactions",icon:o.jsx(ar,{size:20})},{id:"budget",label:"Budget",icon:o.jsx(ji,{size:20})},{id:"analytics",label:"Analytics",icon:o.jsx(bx,{size:20}),requiresPro:!0,upgrade:(a==null?void 0:a.planTier)!=="pro"},{id:"goals",label:"Goals & Forecasts",icon:o.jsx(Tf,{size:20}),requiresPro:!0,upgrade:(a==null?void 0:a.planTier)!=="pro"},{id:"payment-history",label:"Payment History",icon:o.jsx(Rx,{size:20})},{id:"import-export",label:"Import & Export",icon:o.jsx(bi,{size:20})},{id:"settings",label:"Settings",icon:o.jsx(Ix,{size:20})}],d=((p=c==null?void 0:c.user_metadata)==null?void 0:p.full_name)||((m=c==null?void 0:c.user_metadata)==null?void 0:m.name)||((g=c==null?void 0:c.email)==null?void 0:g.split("@")[0])||"User";return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-20 lg:hidden",onClick:n}),o.jsx("aside",{className:`fixed top-0 left-0 h-full bg-white shadow-lg z-30 transition-all duration-300 ease-in-out ${t?"w-20":"w-64"} ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:`px-4 py-6 border-b border-gray-100 flex items-center ${t?"justify-center":"justify-between"}`,children:[!t&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:o.jsx(ji,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-bold text-gray-800",children:"Zero-Import"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Expense Tracker"})]})]}),o.jsxs("div",{className:"flex items-center",children:[!t&&o.jsx("button",{onClick:n,className:"lg:hidden p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close sidebar",children:o.jsx(bn,{size:20})}),o.jsx("button",{onClick:r,className:"hidden lg:block p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?o.jsx(En,{size:20}):o.jsx(_x,{size:20})})]})]}),o.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:o.jsx("ul",{className:"space-y-1",children:u.map(x=>{const w=x.requiresPro&&!l("advancedAnalytics");return o.jsx("li",{className:"relative group",children:o.jsxs("button",{onClick:()=>{w||(s(x.id),n())},className:`w-full flex items-center ${t?"justify-center":"justify-between"} 
                        px-4 py-3 rounded-lg transition-colors ${i===x.id?"bg-blue-50 text-blue-700":w?"text-gray-400 hover:bg-gray-50 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,disabled:w,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"flex-shrink-0",children:x.icon}),!t&&o.jsx("span",{className:"flex-1",children:x.label})]}),!t&&x.upgrade&&o.jsx("span",{className:"w-5 h-5 rounded-full bg-amber-100 flex items-center justify-center",children:o.jsx(is,{size:12,className:"text-amber-500"})}),t&&o.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-sm rounded-lg shadow-lg whitespace-nowrap opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity duration-200",children:o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("div",{className:"absolute -left-1 top-1/2 -mt-1 border-4 border-transparent border-r-gray-900"}),x.label,x.upgrade&&o.jsx("span",{className:"ml-1",children:o.jsx(is,{size:12,className:"text-amber-300 inline"})})]})})]})},x.id)})})}),!t&&c&&o.jsx("div",{className:"p-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:o.jsx($x,{size:20,className:"text-gray-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:d}),o.jsx("p",{className:"text-xs text-gray-500",children:(a==null?void 0:a.planTier)==="pro"?"Pro Plan":"Free Plan"})]})]})})]})})]})},Fx=({children:e,currentPage:t,onNavigate:n,onAuthRequired:r})=>{const[s,i]=k.useState(!1),[a,l]=k.useState(!1),c=()=>{i(!s)},u=()=>{l(!a)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Mx,{onMenuToggle:c}),o.jsx(Ux,{isOpen:s,isCollapsed:a,onCollapse:u,onClose:()=>i(!1),onNavigate:d=>{n(d),r()},currentPage:t}),o.jsx("main",{className:`pt-20 pb-10 transition-all duration-300 min-h-screen ${a?"lg:pl-20":"lg:pl-64"}`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:e})})]})},D=(e,t="",n="en-IN")=>new Intl.NumberFormat(n,{style:"currency",currency:t===""?"INR":"USD",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("",t),Ia=(e,t="en-IN")=>{const n=new Date(e);return new Intl.DateTimeFormat(t,{day:"numeric",month:"short",year:"numeric"}).format(n)},Bx=e=>{const t=[];for(let n=e-1;n>=0;n--){const r=new Date;r.setDate(r.getDate()-n),t.push(r.toISOString().split("T")[0])}return t},Hx=(e,t)=>t.map(r=>e.filter(s=>s.date.startsWith(r)&&s.type==="expense").reduce((s,i)=>s+i.amount,0)),Vx=(e,t)=>{const n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},Wx=e=>{const t=["Date","Type","Amount","Category","Merchant","Note","Recurring"],n=e.map(s=>[s.date,s.type,s.amount.toString(),s.category,s.merchant,s.note||"",s.isRecurring?"Yes":"No"]);return[t.join(","),...n.map(s=>s.join(","))].join(`
`)},qx=(e,t)=>{const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},Jx=()=>{const{getTotalExpenses:e,getTotalIncome:t,getNetAmount:n,transactions:r,userPreferences:s}=Ce(),[i,a]=k.useState(null),l=e(),c=t(),u=n(),d=[{id:"income",title:"Total Income",value:D(c,s.currency,s.locale),icon:o.jsx(Bl,{className:"text-green-500"}),change:"+12%",changeType:"positive",bgColor:"bg-green-50",borderColor:"border-green-100",textColor:"text-green-700",hoverBg:"hover:bg-green-100",details:{title:"Income Details",items:r.filter(m=>m.type==="income").sort((m,g)=>g.amount-m.amount).slice(0,5)}},{id:"expenses",title:"Total Expenses",value:D(l,s.currency,s.locale),icon:o.jsx(Pf,{className:"text-rose-500"}),change:"+8%",changeType:"negative",bgColor:"bg-rose-50",borderColor:"border-rose-100",textColor:"text-rose-700",hoverBg:"hover:bg-rose-100",details:{title:"Expense Details",items:r.filter(m=>m.type==="expense").sort((m,g)=>g.amount-m.amount).slice(0,5)}},{id:"balance",title:"Net Balance",value:D(u,s.currency,s.locale),icon:o.jsx(zx,{className:u>=0?"text-blue-500":"text-orange-500"}),change:u>=0?"Positive":"Negative",changeType:u>=0?"positive":"negative",bgColor:u>=0?"bg-blue-50":"bg-orange-50",borderColor:u>=0?"border-blue-100":"border-orange-100",textColor:u>=0?"text-blue-700":"text-orange-700",hoverBg:u>=0?"hover:bg-blue-100":"hover:bg-orange-100",details:{title:"Balance Summary",summary:!0}}],p=m=>{const g=d.find(x=>x.id===m);return g?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 transform transition-all duration-300 scale-100 opacity-100",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.bgColor}`,children:g.icon}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:g.details.title})]}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(bn,{size:20})})]}),g.details.summary?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[o.jsx("span",{className:"text-green-700",children:"Total Income"}),o.jsx("span",{className:"font-semibold text-green-700",children:D(c,s.currency,s.locale)})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-rose-50 rounded-lg",children:[o.jsx("span",{className:"text-rose-700",children:"Total Expenses"}),o.jsx("span",{className:"font-semibold text-rose-700",children:D(l,s.currency,s.locale)})]}),o.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${u>=0?"bg-blue-50":"bg-orange-50"}`,children:[o.jsx("span",{className:u>=0?"text-blue-700":"text-orange-700",children:"Net Balance"}),o.jsx("span",{className:`font-semibold ${u>=0?"text-blue-700":"text-orange-700"}`,children:D(u,s.currency,s.locale)})]})]}):o.jsx("div",{className:"space-y-3",children:g.details.items.map((x,w)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.merchant}),o.jsx("p",{className:"text-sm text-gray-500",children:x.category})]}),o.jsx("span",{className:`font-semibold ${x.type==="expense"?"text-rose-600":"text-green-600"}`,children:D(x.amount,s.currency,s.locale)})]},x.id))})]})}):null};return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.map((m,g)=>o.jsxs("div",{className:`${m.bgColor} ${m.borderColor} border rounded-xl p-4 shadow-sm relative overflow-hidden transition-all duration-300 hover:shadow-md ${m.hoverBg} cursor-pointer transform hover:scale-[1.02] group`,onClick:()=>a(m.id),children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"p-2 rounded-lg bg-white bg-opacity-70 backdrop-blur-sm",children:m.icon}),o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mt-8 -mr-8 opacity-10 transform rotate-12 transition-transform group-hover:rotate-45",children:m.icon})]}),o.jsx("h3",{className:"mt-2 text-gray-600 font-medium",children:m.title}),o.jsx("p",{className:`text-2xl font-bold mt-1 ${m.textColor}`,children:m.value}),o.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[o.jsx("span",{className:`${m.changeType==="positive"?"text-green-600":"text-rose-600"} font-medium`,children:m.change}),o.jsx("span",{className:"text-gray-500 ml-1",children:"vs last month"})]}),o.jsxs("button",{className:"mt-3 text-sm flex items-center text-gray-600 hover:text-gray-800 transition-colors group-hover:translate-x-1 transform duration-300",children:["View details ",o.jsx(wx,{size:16,className:"ml-1"})]})]},g)),i&&p(i)]})},Eo={"Money & Shopping":["","","","","","","","","",""],"Food & Drinks":["","","","","","","","","","","","","","","",""],Transport:["","","","","","","","","",""],"Home & Utilities":["","","","","","","","","",""],Entertainment:["","","","","","","","","",""],Health:["","","","","","","","","",""],Education:["","","","","","","","","",""],"Bills & Services":["","","","","","","","","",""],Income:["","","","","","","","","",""],Savings:["","","","","","","","","",""],General:["","","","","","","","","",""]},Hl=({isOpen:e,onClose:t,editingTransaction:n})=>{const{categories:r,addTransaction:s,updateTransaction:i,addCategory:a,userPreferences:l,isFeatureAvailable:c}=Ce(),[u,d]=k.useState(""),[p,m]=k.useState("expense"),[g,x]=k.useState(""),[w,j]=k.useState(""),[y,h]=k.useState(""),[f,v]=k.useState(new Date().toISOString().split("T")[0]),[S,C]=k.useState(!1),[T,_]=k.useState(!0),[O,A]=k.useState(!1),[z,J]=k.useState(!1),[G,be]=k.useState(""),[b,$]=k.useState(""),[U,N]=k.useState(!1),[R,E]=k.useState(""),[L,q]=k.useState("Money & Shopping");k.useEffect(()=>{e&&(n?(d(n.amount.toString()),m(n.type),x(n.category),j(n.merchant),h(n.note||""),v(n.date),C(n.isRecurring)):(d(""),m("expense"),x(""),j(""),h(""),v(new Date().toISOString().split("T")[0]),C(!1)),_(!0),A(!1),J(!1),be(""),$(""),N(!1),E(""),q("Money & Shopping"))},[e,n]);const ue=F=>{if(F==="backspace"){d(Z=>Z.slice(0,-1));return}if(F==="."){u.includes(".")||d(Z=>Z+F);return}const fe=u.split(".");fe.length>1&&fe[1].length>=2||d(Z=>Z+F)},V=()=>{if(!u||!g||!w)return;const F={amount:parseFloat(u),category:g,merchant:w,note:y,date:f,isRecurring:S,type:p};n?i(n.id,F):s(F),A(!0),setTimeout(()=>{t()},1500)},gt=r.filter(F=>p==="expense"?F.name!=="Salary":F.name==="Salary").filter((F,fe,Z)=>fe===Z.findIndex(et=>et.name===F.name)),Ee=()=>{if(!c("customCategories")){N(!0);return}J(!0)},Y=()=>{!G||!b||(a({name:G,emoji:b,color:"#"+Math.floor(Math.random()*16777215).toString(16)}),x(G),J(!1),be(""),$(""))},de=()=>{const F=Object.values(Eo).flat(),fe=R?F.filter(Z=>Z.includes(R)):Eo[L];return o.jsxs("div",{className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg",children:[o.jsx(Ul,{size:18,className:"text-gray-400"}),o.jsx("input",{type:"text",value:R,onChange:Z=>E(Z.target.value),placeholder:"Search emojis...",className:"bg-transparent border-none focus:outline-none flex-1 text-sm"})]}),!R&&o.jsx("div",{className:"flex overflow-x-auto py-2 space-x-2 scrollbar-thin scrollbar-thumb-gray-200",children:Object.keys(Eo).map(Z=>o.jsx("button",{onClick:()=>q(Z),className:`px-3 py-1 rounded-full text-sm whitespace-nowrap ${L===Z?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Z},Z))}),o.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-40 overflow-y-auto p-2",children:fe.map((Z,et)=>o.jsx("button",{onClick:()=>$(Z),className:`p-2 text-xl rounded hover:bg-gray-100 ${b===Z?"bg-blue-100":""}`,children:Z},et))})]})};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:t}),o.jsxs("div",{className:"fixed bottom-0 inset-x-0 bg-white rounded-t-xl z-50 shadow-xl transform transition-transform duration-300 ease-in-out max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-100 flex items-center justify-between z-10",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:n?"Edit Transaction":"Add Transaction"}),o.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:o.jsx(bn,{size:20})})]}),O?o.jsxs("div",{className:"p-10 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(os,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Transaction Saved!"}),o.jsxs("p",{className:"text-gray-500 text-center",children:["Your transaction has been successfully ",n?"updated":"recorded","."]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>m("expense"),className:`px-3 py-1 rounded-full text-sm font-medium ${p==="expense"?"bg-rose-100 text-rose-600":"bg-gray-100 text-gray-600"}`,children:"Expense"}),o.jsx("button",{onClick:()=>m("income"),className:`px-3 py-1 rounded-full text-sm font-medium ${p==="income"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:"Income"})]}),o.jsx("button",{onClick:()=>_(!T),className:"text-blue-600 text-sm",children:T?"Hide Keypad":"Show Keypad"})]}),o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("div",{className:"text-4xl font-bold text-center",style:{minHeight:"3rem"},children:u?o.jsxs("span",{className:p==="expense"?"text-rose-600":"text-green-600",children:[l.currency," ",u]}):o.jsxs("span",{className:"text-gray-300",children:[l.currency," 0"]})})})]}),T&&o.jsx("div",{className:"grid grid-cols-3 gap-1 p-2",children:["1","2","3","4","5","6","7","8","9",".","0","backspace"].map(F=>o.jsx("button",{onClick:()=>ue(F),className:`p-4 text-center rounded-lg transition-colors ${F==="backspace"?"bg-gray-100 text-gray-700 flex items-center justify-center":"bg-white border border-gray-100 hover:bg-gray-50 text-gray-800"}`,children:F==="backspace"?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),o.jsx("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),o.jsx("line",{x1:"12",y1:"9",x2:"18",y2:"15"})]}):F},F))}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[gt.map(F=>o.jsxs("button",{onClick:()=>x(F.name),className:`p-3 rounded-lg border flex flex-col items-center justify-center transition-colors ${g===F.name?"bg-blue-50 border-blue-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[o.jsx("span",{className:"text-2xl mb-1",children:F.emoji}),o.jsx("span",{className:"text-xs text-gray-700",children:F.name})]},F.id)),o.jsxs("button",{onClick:Ee,className:"p-3 rounded-lg border flex flex-col items-center justify-center transition-colors bg-blue-50 border-blue-200 hover:bg-blue-100",children:[o.jsx("span",{className:"text-2xl mb-1",children:o.jsx(yn,{size:24,className:"text-blue-600"})}),o.jsx("span",{className:"text-xs text-blue-600",children:"Add New"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"merchant",className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant / Payee"}),o.jsx("input",{type:"text",id:"merchant",value:w,onChange:F=>j(F.target.value),placeholder:"Where did you spend?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 mb-1",children:"Note (Optional)"}),o.jsx("input",{type:"text",id:"note",value:y,onChange:F=>h(F.target.value),placeholder:"Add a note",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"date",id:"date",value:f,onChange:F=>v(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx(ar,{size:18,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),o.jsxs("div",{className:"w-1/3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurring"}),o.jsxs("button",{onClick:()=>C(!S),className:`w-full px-3 py-2 border rounded-lg flex items-center justify-center transition-colors ${S?"bg-blue-50 border-blue-200 text-blue-600":"bg-white border-gray-300 text-gray-700"}`,children:[o.jsx(Ax,{size:18,className:"mr-2"}),o.jsx("span",{children:S?"Yes":"No"})]})]})]})]}),o.jsx("div",{className:"p-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:V,disabled:!u||!g||!w,className:`flex-1 px-4 py-3 rounded-lg font-medium text-white ${!u||!g||!w?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition-colors`,children:n?"Update Transaction":"Save Transaction"})]})})]})]}),z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Create Custom Category"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),o.jsx("input",{type:"text",value:G,onChange:F=>be(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose Emoji"}),o.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[o.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:b}),o.jsx("span",{className:"text-sm text-gray-600",children:"Selected Emoji"})]}),de()]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{onClick:()=>J(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:Y,disabled:!G,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Create Category"})]})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(is,{size:32,className:"text-amber-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Pro Feature"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Custom categories are available exclusively to Pro users. Upgrade your account to create unlimited custom categories."}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Maybe Later"}),o.jsx("button",{onClick:()=>{N(!1)},className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Upgrade to Pro"})]})]})})})]}):null},Gx=({limit:e=5,showAddButton:t=!1,onAddClick:n})=>{const{transactions:r,categories:s,userPreferences:i,removeTransaction:a}=Ce();k.useState(null);const[l,c]=k.useState(null),[u,d]=k.useState(null),[p,m]=k.useState(null),g=[...r].sort((h,f)=>new Date(f.date).getTime()-new Date(h.date).getTime()).slice(0,e),x=h=>{const f=s.find(v=>v.name===h);return f?f.emoji:""},w=async h=>{await a(h),c(null)},j=h=>{const f=r.find(v=>v.id===h);return f?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Transaction Details"}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(bn,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:x(f.category)})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:f.merchant}),o.jsx("p",{className:"text-sm text-gray-500",children:f.category})]})]}),o.jsxs("span",{className:`font-semibold ${f.type==="expense"?"text-rose-600":"text-green-600"}`,children:[f.type==="expense"?"-":"+",D(f.amount,i.currency,i.locale)]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium text-gray-800",children:Ia(f.date,i.locale)})]}),f.note&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Note"}),o.jsx("p",{className:"font-medium text-gray-800",children:f.note})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Recurring"}),o.jsx("p",{className:"font-medium text-gray-800",children:f.isRecurring?"Yes":"No"})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{onClick:()=>{m(null),d(f.id)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Edit Transaction"}),o.jsx("button",{onClick:()=>{m(null),c(f.id)},className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-lg font-medium hover:bg-rose-700 transition-colors",children:"Delete Transaction"})]})]})]})}):null},y=h=>r.find(v=>v.id===h)?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Delete Transaction"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this transaction? This action cannot be undone."}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>w(h),className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-lg font-medium hover:bg-rose-700 transition-colors",children:"Delete"})]})]})}):null;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[t&&o.jsx("button",{onClick:n,className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:o.jsx(yn,{size:18})}),o.jsx("button",{className:"p-2 bg-gray-50 text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(Ul,{size:18})})]})]}),g.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),o.jsx("button",{onClick:n,className:"mt-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Add your first transaction"})]}):o.jsx("div",{className:"space-y-1",children:g.map(h=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-grow cursor-pointer",onClick:()=>m(h.id),children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-gray-100",children:o.jsx("span",{className:"text-lg",children:x(h.category)})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:h.merchant}),o.jsxs("div",{className:"flex text-sm text-gray-500",children:[o.jsx("span",{children:h.category}),o.jsx("span",{className:"mx-1",children:""}),o.jsx("span",{children:Ia(h.date,i.locale)})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:`font-semibold ${h.type==="expense"?"text-rose-600":"text-green-600"}`,children:[h.type==="expense"?"-":"+",D(h.amount,i.currency,i.locale)]}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>d(h.id),className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:o.jsx(Ef,{size:16})}),o.jsx("button",{onClick:()=>c(h.id),className:"p-1 text-gray-500 hover:text-rose-600 hover:bg-rose-50 rounded-full transition-colors",children:o.jsx(Fl,{size:16})})]})]})]},h.id))}),r.length>e&&o.jsx("div",{className:"mt-4 text-center",children:o.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:"View all transactions"})}),p&&j(p),l&&y(l),u&&o.jsx(Hl,{isOpen:!0,onClose:()=>d(null),editingTransaction:r.find(h=>h.id===u)})]})},Kx=()=>{const{budgets:e,categories:t,transactions:n,userPreferences:r}=Ce(),s=l=>{var u;const c=(u=t.find(d=>d.id===l))==null?void 0:u.name;return c?n.filter(d=>d.category===c&&d.type==="expense").reduce((d,p)=>d+p.amount,0):0},i=e.map(l=>{const c=t.find(p=>p.id===l.categoryId),u=s(l.categoryId),d=l.limit>0?u/l.limit*100:0;return{...l,categoryName:(c==null?void 0:c.name)||"Unknown",emoji:(c==null?void 0:c.emoji)||"",color:(c==null?void 0:c.color)||"#888888",spent:u,percentage:d,status:d>100?"exceeded":d>80?"warning":"good"}});i.sort((l,c)=>c.percentage-l.percentage);const a=i.slice(0,3);return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Budget Overview"}),o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Manage Budgets"})]}),i.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500",children:"No budgets set yet"}),o.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Create your first budget"})]}):o.jsxs("div",{className:"space-y-4",children:[a.map(l=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:l.emoji}),o.jsx("span",{className:"font-medium text-gray-800",children:l.categoryName})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-semibold text-gray-800",children:D(l.spent,r.currency,r.locale)}),o.jsx("span",{className:"text-gray-500 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:D(l.limit,r.currency,r.locale)})]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full ${l.status==="exceeded"?"bg-rose-500":l.status==="warning"?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(l.percentage,100)}%`}})}),o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsxs("span",{className:`font-medium ${l.status==="exceeded"?"text-rose-600":l.status==="warning"?"text-amber-600":"text-green-600"}`,children:[l.percentage.toFixed(0),"%"]}),o.jsx("span",{className:"text-gray-500",children:l.status==="exceeded"?`Exceeded by ${D(l.spent-l.limit,r.currency,r.locale)}`:l.status==="warning"?"Close to limit":"On track"})]})]},l.categoryId)),i.length>3&&o.jsx("div",{className:"mt-2 text-center",children:o.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:"View all budgets"})})]})]})},Qx=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(null),{transactions:s,categories:i,userPreferences:a}=Ce(),l=s.filter(m=>m.type==="expense").reduce((m,g)=>(m[g.category]=(m[g.category]||0)+g.amount,m),{}),c=Object.entries(l).sort(([,m],[,g])=>g-m).map(([m,g])=>{const x=i.find(w=>w.name===m);return{label:m,value:g,color:(x==null?void 0:x.color)||"#888888"}}),u=c.reduce((m,g)=>m+g.value,0),d=(m,g)=>{t(g),r({x:m.clientX,y:m.clientY})},p=()=>{t(null),r(null)};return c.length===0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500",children:"No expense data yet"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add transactions to see your spending breakdown"})]})]}):c.length===1?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"relative w-[200px] h-[200px] cursor-pointer transition-transform duration-300 hover:scale-105",onMouseMove:m=>d(m,0),onMouseLeave:p,children:[o.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:[o.jsx("defs",{children:o.jsx("filter",{id:"shadow-0",children:o.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodColor:c[0].color,floodOpacity:"0.3"})})}),o.jsx("circle",{cx:"100",cy:"100",r:"80",fill:c[0].color,style:{filter:e===0?"url(#shadow-0)":"none",transition:"all 0.3s ease"}})]}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[o.jsx("span",{className:"text-lg font-medium",children:c[0].label}),o.jsx("span",{className:"text-2xl font-bold mt-1",children:D(c[0].value,a.currency,a.locale)}),o.jsx("span",{className:"text-sm mt-1",children:"100%"})]})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition-colors",onMouseEnter:()=>t(0),onMouseLeave:()=>t(null),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:c[0].color}}),o.jsx("span",{className:"text-sm text-gray-700",children:c[0].label})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:D(c[0].value,a.currency,a.locale)}),o.jsx("span",{className:"text-xs text-gray-500 min-w-[45px] text-right",children:"100%"})]})]})})]})]}):o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-center mb-6",children:[o.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",style:{filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"},children:[o.jsx("defs",{children:c.map((m,g)=>o.jsx("filter",{id:`shadow-${g}`,children:o.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"3",floodColor:m.color,floodOpacity:"0.5"})},`shadow-${g}`))}),c.map((m,g)=>{const x=c.reduce((J,G)=>J+G.value,0),w=c.slice(0,g).reduce((J,G)=>J+G.value/x*360,0),j=m.value/x*360,y=w*Math.PI/180,h=(w+j)*Math.PI/180,f=100+80*Math.cos(y),v=100+80*Math.sin(y),S=100+80*Math.cos(h),C=100+80*Math.sin(h),T=j>180?1:0,_=y+(h-y)/2,O=e===g?10:0,A=O*Math.cos(_),z=O*Math.sin(_);return o.jsx("g",{transform:`translate(${A} ${z})`,style:{transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",filter:e===g?`url(#shadow-${g})`:"none"},children:o.jsx("path",{d:`M 100 100 L ${f} ${v} A 80 80 0 ${T} 1 ${S} ${C} Z`,fill:m.color,onMouseMove:J=>d(J,g),onMouseLeave:p,className:"transition-all duration-300 cursor-pointer",style:{opacity:e===null||e===g?1:.7}})},g)})]}),e!==null&&n&&o.jsxs("div",{className:"absolute bg-white p-3 rounded-lg shadow-lg border border-gray-100 z-10 pointer-events-none transform -translate-x-1/2 transition-all duration-200",style:{left:n.x,top:n.y-80,filter:"drop-shadow(0 4px 3px rgb(0 0 0 / 0.07)) drop-shadow(0 2px 2px rgb(0 0 0 / 0.06))"},children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c[e].color}}),o.jsx("span",{className:"font-medium",children:c[e].label})]}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[D(c[e].value,a.currency,a.locale),o.jsxs("span",{className:"ml-2 text-gray-400",children:["(",(c[e].value/u*100).toFixed(1),"%)"]})]})]})]}),o.jsx("div",{className:"space-y-2",children:c.map((m,g)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onMouseEnter:()=>t(g),onMouseLeave:()=>t(null),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:m.color}}),o.jsx("span",{className:"text-sm text-gray-700",children:m.label})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:D(m.value,a.currency,a.locale)}),o.jsxs("span",{className:"text-xs text-gray-500 min-w-[45px] text-right",children:[(m.value/u*100).toFixed(1),"%"]})]})]},g))})]})]})},Yx=()=>{const{transactions:e,userPreferences:t}=Ce(),n=k.useRef(null),[r,s]=k.useState(null),[i,a]=k.useState(null),l=Bx(7),c=Hx(e,l),u=l.map(j=>new Date(j).toLocaleDateString(t.locale,{weekday:"short"})),d=c[c.length-1]||0,p=c.reduce((j,y)=>j+y,0)/c.length||0,m=d-p,g=p?m/p*100:0;k.useEffect(()=>{if(!n.current)return;const j=n.current.getContext("2d");if(!j)return;const y=n.current.width,h=n.current.height,f=20,v=y-f*2,S=h-f*2,C=Math.max(...c,1);(_=>{j.clearRect(0,0,y,h),j.beginPath(),j.moveTo(f,f),j.lineTo(f,h-f),j.lineTo(y-f,h-f),j.strokeStyle="#e5e7eb",j.lineWidth=1,j.stroke();const O=v/c.length-10;c.forEach((A,z)=>{const J=A/C*S,G=f+z*(v/c.length)+5,be=h-f-J,b=j.createLinearGradient(G,be,G,h-f);z===_?(b.addColorStop(0,"#3b82f6"),b.addColorStop(1,"#60a5fa"),j.shadowColor="rgba(59, 130, 246, 0.5)",j.shadowBlur=10):z===c.length-1?(b.addColorStop(0,"#3b82f6"),b.addColorStop(1,"#93c5fd"),j.shadowColor="transparent",j.shadowBlur=0):(b.addColorStop(0,"#93c5fd"),b.addColorStop(1,"#bfdbfe"),j.shadowColor="transparent",j.shadowBlur=0),j.fillStyle=b,j.beginPath(),j.roundRect(G,be,O,J,4),j.fill(),j.fillStyle="#6b7280",j.font="10px sans-serif",j.textAlign="center",j.fillText(u[z],G+O/2,h-5)})})(r)},[c,u,r]);const x=j=>{if(!n.current)return;const y=n.current.getBoundingClientRect(),h=j.clientX-y.left,f=j.clientY-y.top;a({x:h,y:f});const v=n.current.width,S=20,T=(v-S*2)/c.length,_=Math.floor((h-S)/T);_>=0&&_<c.length?s(_):s(null)},w=()=>{s(null),a(null)};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 transition-all duration-300 hover:shadow-lg",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"7-Day Spending Trend"}),o.jsxs("div",{className:"relative h-48 mb-4",children:[o.jsx("canvas",{ref:n,width:"400",height:"200",onMouseMove:x,onMouseLeave:w,className:"cursor-pointer"}),r!==null&&i&&o.jsxs("div",{className:"absolute bg-white p-2 rounded-lg shadow-lg border border-gray-100 z-10 pointer-events-none transform -translate-x-1/2 transition-opacity duration-200",style:{left:i.x,top:i.y-60},children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:u[r]}),o.jsx("div",{className:"text-sm text-gray-600",children:D(c[r],t.currency,t.locale)})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Today's burn rate"}),o.jsx("p",{className:"text-lg font-semibold text-gray-800",children:D(d,t.currency,t.locale)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"vs 7-day average"}),o.jsx("div",{className:"flex items-center",children:m>0?o.jsxs(o.Fragment,{children:[o.jsx(Bl,{size:16,className:"text-rose-500 mr-1"}),o.jsxs("p",{className:"text-rose-500 font-medium",children:[D(Math.abs(m),t.currency,t.locale),"(",Math.abs(g).toFixed(0),"% higher)"]})]}):m<0?o.jsxs(o.Fragment,{children:[o.jsx(Pf,{size:16,className:"text-green-500 mr-1"}),o.jsxs("p",{className:"text-green-500 font-medium",children:[D(Math.abs(m),t.currency,t.locale),"(",Math.abs(g).toFixed(0),"% lower)"]})]}):o.jsx("p",{className:"text-gray-500",children:"No change"})})]})]})]})},Pu=({onAuthRequired:e})=>{const[t,n]=k.useState(!1),{user:r}=jn(),s=()=>{if(!r){e();return}n(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),o.jsxs("button",{onClick:s,className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",children:[o.jsx(yn,{size:20,className:"mr-1"}),"Add Transaction"]})]}),o.jsx(Jx,{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Qx,{}),o.jsx(Yx,{})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Gx,{showAddButton:!0,onAddClick:s}),o.jsx(Kx,{})]}),r&&o.jsx(Hl,{isOpen:t,onClose:()=>n(!1)})]})},Xx=()=>{const{transactions:e,categories:t,userPreferences:n}=Ce(),[r,s]=k.useState(!1),[i,a]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState(""),[p,m]=k.useState("date"),[g,x]=k.useState("desc"),w=h=>{const f=t.find(v=>v.name===h);return f?f.emoji:""},j=e.filter(h=>{const f=h.merchant.toLowerCase().includes(i.toLowerCase())||h.note&&h.note.toLowerCase().includes(i.toLowerCase()),v=l?h.category===l:!0,S=u?h.type===u:!0;return f&&v&&S}).sort((h,f)=>{if(p==="date"){const v=new Date(h.date).getTime(),S=new Date(f.date).getTime();return g==="asc"?v-S:S-v}else return g==="asc"?h.amount-f.amount:f.amount-h.amount}),y=h=>{p===h?x(g==="asc"?"desc":"asc"):(m(h),x("desc"))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Transactions"}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",children:[o.jsx(yn,{size:20,className:"mr-1"}),"Add Transaction"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("input",{type:"text",placeholder:"Search transactions...",value:i,onChange:h=>a(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx(Ul,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("select",{value:l,onChange:h=>c(h.target.value),className:"pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Categories"}),t.map(h=>o.jsxs("option",{value:h.name,children:[h.emoji," ",h.name]},h.id))]}),o.jsxs("select",{value:u,onChange:h=>d(h.target.value),className:"pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Types"}),o.jsx("option",{value:"expense",children:"Expense"}),o.jsx("option",{value:"income",children:"Income"})]})]})]})}),j.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 border border-gray-100 text-center",children:[o.jsx("div",{className:"text-gray-500 mb-4",children:"No transactions found"}),o.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(yn,{size:18,className:"mr-1"}),"Add your first transaction"]})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[o.jsxs("div",{className:"grid grid-cols-[1fr,1fr,auto] md:grid-cols-[auto,1fr,1fr,auto] gap-4 p-4 border-b border-gray-100 bg-gray-50",children:[o.jsxs("button",{onClick:()=>y("date"),className:"flex items-center space-x-1 text-sm font-medium text-gray-700",children:[o.jsx(ar,{size:16}),o.jsx("span",{children:"Date"}),p==="date"&&o.jsx("span",{children:g==="asc"?o.jsx(Nu,{size:16}):o.jsx(ku,{size:16})})]}),o.jsx("div",{className:"hidden md:block text-sm font-medium text-gray-700",children:"Category"}),o.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Description"}),o.jsxs("button",{onClick:()=>y("amount"),className:"flex items-center space-x-1 text-sm font-medium text-gray-700 justify-self-end",children:[o.jsx("span",{children:"Amount"}),p==="amount"&&o.jsx("span",{children:g==="asc"?o.jsx(Nu,{size:16}):o.jsx(ku,{size:16})})]})]}),o.jsx("div",{className:"divide-y divide-gray-100",children:j.map(h=>o.jsxs("div",{className:"grid grid-cols-[1fr,1fr,auto] md:grid-cols-[auto,1fr,1fr,auto] gap-4 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"text-gray-600",children:Ia(h.date,n.locale)}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:w(h.category)}),o.jsx("span",{className:"text-gray-700",children:h.category})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800",children:h.merchant}),h.note&&o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:h.note})]}),o.jsxs("div",{className:`justify-self-end font-semibold ${h.type==="expense"?"text-rose-600":"text-green-600"}`,children:[h.type==="expense"?"-":"+",D(h.amount,n.currency,n.locale)]})]},h.id))})]}),o.jsx(Hl,{isOpen:r,onClose:()=>s(!1)})]})},Zx=()=>{const{categories:e,budgets:t,transactions:n,updateBudget:r,userPreferences:s}=Ce(),[i,a]=k.useState(null),[l,c]=k.useState(""),u=f=>{var S;const v=(S=e.find(C=>C.id===f))==null?void 0:S.name;return v?n.filter(C=>C.category===v&&C.type==="expense").reduce((C,T)=>C+T.amount,0):0},d=f=>t.find(v=>v.categoryId===f),p=f=>{const v=d(f);c(v?v.limit.toString():""),a(f)},m=()=>{a(null),c("")},g=()=>{i&&l&&(r(i,parseFloat(l)),a(null),c(""))},x=f=>{r(f,0)},w=e.filter(f=>f.name!=="Salary"),j=t.reduce((f,v)=>f+v.limit,0),y=w.reduce((f,v)=>f+u(v.id),0),h=j>0?y/j*100:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Budget"})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Budget Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"Total Budget"}),o.jsx("p",{className:"text-2xl font-bold text-blue-800",children:D(j,s.currency,s.locale)})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Total Spent"}),o.jsx("p",{className:`text-2xl font-bold ${y>j?"text-rose-600":"text-gray-800"}`,children:D(y,s.currency,s.locale)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Budget Usage"}),o.jsxs("span",{className:`text-sm font-medium ${h>100?"text-rose-600":h>80?"text-amber-600":"text-green-600"}`,children:[h.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full ${h>100?"bg-rose-500":h>80?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(h,100)}%`}})}),h>100&&o.jsxs("div",{className:"flex items-center mt-2 text-sm text-rose-600",children:[o.jsx(Fn,{size:16,className:"mr-1"}),o.jsxs("span",{children:["You've exceeded your total budget by ",D(y-j,s.currency,s.locale)]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Category Budgets"})}),o.jsx("div",{className:"divide-y divide-gray-100",children:w.map(f=>{const v=d(f.id),S=u(f.id),C=v!=null&&v.limit?S/v.limit*100:0,T=C>100?"exceeded":C>80?"warning":"good";return o.jsx("div",{className:"p-4",children:i===f.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:f.emoji}),o.jsx("span",{className:"font-medium text-gray-800",children:f.name})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Budget Limit:"}),o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:s.currency}),o.jsx("input",{type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter amount",min:"0"})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:g,disabled:!l,className:`px-4 py-2 rounded-lg text-white font-medium ${l?"bg-blue-600 hover:bg-blue-700":"bg-blue-300 cursor-not-allowed"}`,children:"Save"}),o.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:f.emoji}),o.jsx("span",{className:"font-medium text-gray-800",children:f.name})]}),o.jsx("div",{className:"flex items-center space-x-2",children:v!=null&&v.limit?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>p(f.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors","aria-label":"Edit budget",children:o.jsx(Ef,{size:16})}),o.jsx("button",{onClick:()=>x(f.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-full transition-colors","aria-label":"Remove budget",children:o.jsx(Fl,{size:16})})]}):o.jsxs("button",{onClick:()=>p(f.id),className:"flex items-center px-3 py-1 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:[o.jsx(yn,{size:16,className:"mr-1"}),"Set Budget"]})})]}),v!=null&&v.limit?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:["Spent: ",D(S,s.currency,s.locale)]}),o.jsxs("span",{className:"text-gray-600",children:["Budget: ",D(v.limit,s.currency,s.locale)]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full ${T==="exceeded"?"bg-rose-500":T==="warning"?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(C,100)}%`}})}),o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsxs("span",{className:`font-medium ${T==="exceeded"?"text-rose-600":T==="warning"?"text-amber-600":"text-green-600"}`,children:[C.toFixed(0),"%"]}),T==="exceeded"&&o.jsxs("span",{className:"text-rose-600",children:["Exceeded by ",D(S-v.limit,s.currency,s.locale)]})]})]}):o.jsxs("div",{className:"text-sm text-gray-500",children:["Spent: ",D(S,s.currency,s.locale)," (No budget set)"]})]})},f.id)})})]})]})},ev=()=>{const[e,t]=k.useState("day"),{transactions:n,categories:r,userPreferences:s}=Ce(),i=k.useRef(null),a=k.useRef(null),l=k.useRef([]),[c,u]=k.useState(null),[d,p]=k.useState(null),[m,g]=k.useState(null),x=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=Array.from({length:24},(b,$)=>$),j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=w.map(b=>{const $=n.filter(U=>new Date(U.date).getHours()===b&&U.type==="expense").reduce((U,N)=>U+N.amount,0);return{hour:b,amount:$,label:`${b}:00`,formattedHour:`${b%12||12} ${b<12?"AM":"PM"}`}}),h=x.map((b,$)=>{const U=($+1)%7,N=n.filter(R=>new Date(R.date).getDay()===U&&R.type==="expense").reduce((R,E)=>R+E.amount,0);return{day:b,amount:N}}),f=j.map((b,$)=>{const U=n.filter(N=>new Date(N.date).getMonth()===$&&N.type==="expense").reduce((N,R)=>N+R.amount,0);return{month:b,amount:U}}),v=y.reduce((b,$)=>$.amount>b.amount?$:b,y[0]),S=h.reduce((b,$)=>$.amount>b.amount?$:b,h[0]),C=f.reduce((b,$)=>$.amount>b.amount?$:b,f[0]),T=n.filter(b=>b.type==="expense").reduce((b,$)=>b+$.amount,0),_=new Set(n.map(b=>b.date.split("T")[0])).size||1,O=T/_,A=[{name:"Local Stores",amount:2500,percentage:35},{name:"Online Shopping",amount:1800,percentage:25},{name:"Restaurants",amount:1500,percentage:20},{name:"Entertainment Venues",amount:1e3,percentage:15},{name:"Others",amount:350,percentage:5}];k.useEffect(()=>{if(!a.current||e!=="day")return;const b=a.current.getContext("2d");if(!b)return;const $=a.current.width,U=a.current.height,N={left:100,right:40,top:20,bottom:100},R=$-(N.left+N.right),E=U-(N.top+N.bottom),L=Math.max(...h.map(Y=>Y.amount),1),q=Math.ceil(L/1e4)*1e4;b.clearRect(0,0,$,U),b.beginPath(),b.strokeStyle="#e5e7eb",b.lineWidth=1,b.moveTo(N.left,N.top),b.lineTo(N.left,U-N.bottom),b.stroke();const ue=5;for(let Y=0;Y<=ue;Y++){const de=U-N.bottom-Y*(E/ue),F=Y*(q/ue);b.beginPath(),b.strokeStyle="#f3f4f6",b.moveTo(N.left,de),b.lineTo($-N.right,de),b.stroke(),b.fillStyle="#1f2937",b.font="600 13px system-ui, -apple-system, sans-serif",b.textAlign="right",b.textBaseline="middle",b.fillText(D(F,s.currency,s.locale),N.left-15,de)}b.beginPath(),b.strokeStyle="#e5e7eb",b.moveTo(N.left,U-N.bottom),b.lineTo($-N.right,U-N.bottom),b.stroke();const V=Math.min(60,R/x.length*.6),gt=(R-V*x.length)/(x.length-1),Ee=[];h.forEach((Y,de)=>{const F=q>0?Y.amount/q*E:0,fe=N.left+de*(V+gt),Z=U-N.bottom-F;Ee[de]={x:fe,y:Z,width:V,height:F,amount:Y.amount};const et=b.createLinearGradient(fe,Z,fe,U-N.bottom);et.addColorStop(0,de===d?"#3b82f6":"#93c5fd"),et.addColorStop(1,de===d?"#60a5fa":"#bfdbfe"),b.fillStyle=et,b.beginPath(),b.roundRect(fe,Z,V,F,4),b.fill(),b.fillStyle="#1f2937",b.font="600 13px system-ui, -apple-system, sans-serif",b.textAlign="center",b.fillText(Y.day,fe+V/2,U-N.bottom+25),b.fillStyle="#1f2937",b.font="500 12px system-ui, -apple-system, sans-serif",b.textAlign="center",b.fillText(D(Y.amount,s.currency,s.locale),fe+V/2,U-N.bottom+45)}),l.current=Ee},[h,d,e,s]),k.useEffect(()=>{if(!i.current||e!=="time")return;const b=i.current.getContext("2d");if(!b)return;const $=i.current.width,U=i.current.height,N={left:100,right:40,top:20,bottom:100},R=$-(N.left+N.right),E=U-(N.top+N.bottom),L=Math.max(...y.map(Y=>Y.amount),1),q=Math.ceil(L/1e3)*1e3;b.clearRect(0,0,$,U),b.beginPath(),b.strokeStyle="#e5e7eb",b.lineWidth=1,b.moveTo(N.left,N.top),b.lineTo(N.left,U-N.bottom),b.stroke();const ue=5;for(let Y=0;Y<=ue;Y++){const de=U-N.bottom-Y*(E/ue),F=Y*(q/ue);b.beginPath(),b.strokeStyle="#f3f4f6",b.moveTo(N.left,de),b.lineTo($-N.right,de),b.stroke(),b.fillStyle="#1f2937",b.font="600 13px system-ui, -apple-system, sans-serif",b.textAlign="right",b.textBaseline="middle",b.fillText(D(F,s.currency,s.locale),N.left-15,de)}b.beginPath(),b.strokeStyle="#e5e7eb",b.moveTo(N.left,U-N.bottom),b.lineTo($-N.right,U-N.bottom),b.stroke();const V=Math.min(20,R/w.length*.6),gt=(R-V*w.length)/(w.length-1),Ee=[];y.forEach((Y,de)=>{const F=q>0?Y.amount/q*E:0,fe=N.left+de*(V+gt),Z=U-N.bottom-F;Ee[de]={x:fe,y:Z,width:V,height:F,amount:Y.amount};const et=b.createLinearGradient(fe,Z,fe,U-N.bottom);et.addColorStop(0,de===c?"#9333ea":"#d8b4fe"),et.addColorStop(1,de===c?"#a855f7":"#e9d5ff"),b.fillStyle=et,b.beginPath(),b.roundRect(fe,Z,V,F,4),b.fill(),de%3===0&&(b.fillStyle="#1f2937",b.font="600 12px system-ui, -apple-system, sans-serif",b.textAlign="center",b.fillText(Y.formattedHour,fe+V/2,U-N.bottom+25))}),l.current=Ee},[y,c,e,s]);const z=b=>{if(!a.current||!l.current)return;const $=a.current.getBoundingClientRect(),U=b.clientX-$.left,N=b.clientY-$.top,R=a.current.width/$.width,E=a.current.height/$.height,L=U*R,q=N*E;g({x:b.clientX,y:b.clientY});const ue=l.current.findIndex(V=>L>=V.x&&L<=V.x+V.width&&q>=V.y&&q<=V.y+V.height);p(ue>=0?ue:null)},J=()=>{p(null),g(null)},G=b=>{if(!i.current||!l.current)return;const $=i.current.getBoundingClientRect(),U=b.clientX-$.left,N=b.clientY-$.top,R=i.current.width/$.width,E=i.current.height/$.height,L=U*R,q=N*E;g({x:b.clientX,y:b.clientY});const ue=l.current.findIndex(V=>L>=V.x&&L<=V.x+V.width&&q>=V.y&&q<=V.y+V.height);u(ue>=0?ue:null)},be=()=>{u(null),g(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-blue-100",children:[o.jsx("div",{className:"flex justify-between items-start",children:o.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:o.jsx(ar,{size:20,className:"text-blue-600"})})}),o.jsx("h3",{className:"mt-2 text-gray-600 font-medium",children:"Peak Spending Day"}),o.jsx("p",{className:"text-xl font-bold mt-1 text-blue-700",children:S.day}),o.jsx("div",{className:"flex items-center mt-2 text-sm",children:o.jsxs("span",{className:"text-gray-500",children:[D(S.amount,s.currency,s.locale)," average"]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-purple-100",children:[o.jsx("div",{className:"flex justify-between items-start",children:o.jsx("div",{className:"p-2 rounded-lg bg-purple-50",children:o.jsx(Ra,{size:20,className:"text-purple-600"})})}),o.jsx("h3",{className:"mt-2 text-gray-600 font-medium",children:"Peak Spending Time"}),o.jsx("p",{className:"text-xl font-bold mt-1 text-purple-700",children:v.formattedHour}),o.jsx("div",{className:"flex items-center mt-2 text-sm",children:o.jsxs("span",{className:"text-gray-500",children:[D(v.amount,s.currency,s.locale)," total"]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-amber-100",children:[o.jsx("div",{className:"flex justify-between items-start",children:o.jsx("div",{className:"p-2 rounded-lg bg-amber-50",children:o.jsx(jx,{size:20,className:"text-amber-600"})})}),o.jsx("h3",{className:"mt-2 text-gray-600 font-medium",children:"Average Daily Spend"}),o.jsx("p",{className:"text-xl font-bold mt-1 text-amber-700",children:D(O,s.currency,s.locale)}),o.jsx("div",{className:"flex items-center mt-2 text-sm",children:o.jsxs("span",{className:"text-gray-500",children:["Based on ",_," days of data"]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"border-b border-gray-100",children:o.jsxs("nav",{className:"flex overflow-x-auto",children:[o.jsxs("button",{onClick:()=>t("day"),className:`px-6 py-3 font-medium text-sm whitespace-nowrap ${e==="day"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[o.jsx(ar,{size:16,className:"inline mr-2"}),"Day of Week"]}),o.jsxs("button",{onClick:()=>t("time"),className:`px-6 py-3 font-medium text-sm whitespace-nowrap ${e==="time"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[o.jsx(Ra,{size:16,className:"inline mr-2"}),"Time of Day"]}),o.jsxs("button",{onClick:()=>t("location"),className:`px-6 py-3 font-medium text-sm whitespace-nowrap ${e==="location"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[o.jsx(Tx,{size:16,className:"inline mr-2"}),"Location"]}),o.jsxs("button",{onClick:()=>t("patterns"),className:`px-6 py-3 font-medium text-sm whitespace-nowrap ${e==="patterns"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[o.jsx(Cu,{size:16,className:"inline mr-2"}),"Seasonal Patterns"]})]})}),o.jsxs("div",{className:"p-6",children:[e==="day"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Spending by Day of Week"}),o.jsxs("div",{className:"relative h-[300px] mb-8",children:[o.jsx("canvas",{ref:a,width:"600",height:"300",onMouseMove:z,onMouseLeave:J,className:"cursor-pointer w-full"}),d!==null&&m&&o.jsxs("div",{className:"absolute bg-white p-3 rounded-lg shadow-lg border border-gray-100 z-10 pointer-events-none transform -translate-x-1/2",style:{left:m.x,top:m.y-80},children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:h[d].day}),o.jsx("div",{className:"text-sm text-gray-600",children:D(h[d].amount,s.currency,s.locale)})]})]}),o.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Key Insight"}),o.jsxs("p",{className:"text-blue-700",children:["You spend the most on ",o.jsx("span",{className:"font-medium",children:S.day}),", which accounts for",o.jsxs("span",{className:"font-medium",children:[" ",(S.amount/T*100).toFixed(1),"%"]})," of your total expenses.",S.day==="Sat"||S.day==="Sun"?" Consider planning your weekend activities more budget-friendly.":" Try to spread your expenses more evenly throughout the week."]})]})]}),e==="time"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Spending by Time of Day"}),o.jsxs("div",{className:"relative h-[300px] mb-8",children:[o.jsx("canvas",{ref:i,width:"800",height:"300",onMouseMove:G,onMouseLeave:be,className:"cursor-pointer w-full"}),c!==null&&m&&o.jsxs("div",{className:"absolute bg-white p-3 rounded-lg shadow-lg border border-gray-100 z-10 pointer-events-none transform -translate-x-1/2",style:{left:m.x,top:m.y-80},children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:y[c].formattedHour}),o.jsx("div",{className:"text-sm text-gray-600",children:D(y[c].amount,s.currency,s.locale)})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Key Insight"}),o.jsxs("p",{className:"text-purple-700",children:["Your peak spending time is around ",o.jsx("span",{className:"font-medium",children:v.formattedHour}),".",v.hour>=12&&v.hour<=14?" This suggests lunch expenses are a significant part of your budget. Consider meal prepping to reduce costs.":v.hour>=17&&v.hour<=20?" This corresponds with dinner time. Look for dining deals or cook at home more often to save.":" Be mindful of your spending habits during this time period."]})]})]}),e==="location"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Spending by Location"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:A.map((b,$)=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"font-medium text-gray-700",children:b.name}),o.jsxs("span",{className:"text-sm text-gray-500",children:[b.percentage,"%"]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${b.percentage}%`}})}),o.jsx("div",{className:"mt-2 text-sm text-gray-600",children:D(b.amount,s.currency,s.locale)})]},$))}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Px,{className:"text-blue-600 mr-2",size:24}),o.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Location Insights"})]}),o.jsxs("div",{className:"space-y-4 text-blue-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"35%"})," of your spending occurs at local stores, suggesting you prefer shopping in person."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"25%"})," is spent on online shopping, which could be optimized with better price comparison."]}),o.jsx("p",{children:"Consider consolidating your shopping trips to reduce transportation costs and impulse purchases."})]})]})]})]}),e==="patterns"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Seasonal Spending Patterns"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"h-64",children:o.jsx("div",{className:"flex h-full items-end space-x-2",children:f.map((b,$)=>{const U=Math.max(...f.map(R=>R.amount)),N=U>0?b.amount/U*100:0;return o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx("div",{className:`w-full rounded-t-lg ${b.month===C.month?"bg-green-500":"bg-green-200"}`,style:{height:`${N}%`}}),o.jsx("div",{className:"text-xs mt-2 text-gray-600 font-medium",children:b.month}),o.jsx("div",{className:"text-xs text-gray-500",children:D(b.amount,s.currency,s.locale)})]},$)})})}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Cu,{className:"text-green-600 mr-2",size:24}),o.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Seasonal Insights"})]}),o.jsxs("div",{className:"space-y-4 text-green-700",children:[o.jsxs("p",{children:["Your highest spending month is ",o.jsx("strong",{children:C.month}),", with ",D(C.amount,s.currency,s.locale)," in expenses."]}),o.jsx("p",{children:"This could be due to seasonal events, holidays, or regular billing cycles. Plan ahead for these high-spend periods."}),o.jsx("p",{children:"Consider setting aside extra savings in lower-spend months to better manage peak spending seasons."})]})]})]})]})]})]})]})},tv=()=>{const{transactions:e,categories:t,userPreferences:n,isFeatureAvailable:r}=Ce(),[s,i]=k.useState(!1),[a,l]=k.useState(!1),[c,u]=k.useState([]),[d,p]=k.useState({priority:"medium"}),m=()=>{const f=new Date,v=new Date(f.getTime()-7*24*60*60*1e3),S=new Date(f.getFullYear(),f.getMonth()-1,f.getDate()),C=new Date(f.getFullYear(),f.getMonth()-3,f.getDate()),T=e.filter(R=>R.type==="expense"&&new Date(R.date)>=v).reduce((R,E)=>R+E.amount,0),_=e.filter(R=>R.type==="expense"&&new Date(R.date)>=S).reduce((R,E)=>R+E.amount,0),O=e.filter(R=>R.type==="expense"&&new Date(R.date)>=C).reduce((R,E)=>R+E.amount,0),A=T/7,z=_/30,J=O/90,G=A*7,be=z*30,b=J*365,$=(A-z)/z*100,U=(z-J)/J*100;return{weeklyExpense:G,monthlyExpense:be,yearlyExpense:b,weeklyTrend:$,monthlyTrend:U,yearlyTrend:U}},x=(()=>{const f=new Date,v=new Date(f.getFullYear(),f.getMonth(),1),S=new Date(f.getFullYear(),f.getMonth()-1,1),C=e.filter(E=>new Date(E.date)>=v);e.filter(E=>new Date(E.date)>=S&&new Date(E.date)<v);const T=C.filter(E=>E.type==="income").reduce((E,L)=>E+L.amount,0),_=C.filter(E=>E.type==="expense").reduce((E,L)=>E+L.amount,0),O=T-_,A=e.filter(E=>E.type==="expense").reduce((E,L)=>(E[L.category]=(E[L.category]||0)+L.amount,E),{}),z=[];_>T*.8&&z.push("High expense to income ratio"),e.filter(E=>E.isRecurring).reduce((E,L)=>E+L.amount,0)>T*.5&&z.push("High recurring expenses"),e.filter(E=>E.type==="expense"&&E.amount>T*.2).length>0&&z.push("Irregular large expenses detected");const b=[],$=["Entertainment","Streaming","Subscriptions"];return e.filter(E=>E.type==="expense"&&$.some(L=>E.category.toLowerCase().includes(L.toLowerCase()))).reduce((E,L)=>E+L.amount,0)>T*.1&&b.push("Potential to optimize subscription services"),e.filter(E=>E.type==="expense"&&E.category.toLowerCase().includes("food")).reduce((E,L)=>E+L.amount,0)>T*.15&&b.push("Consider reducing dining out expenses"),e.filter(E=>E.type==="expense"&&E.category.toLowerCase().includes("shopping")).reduce((E,L)=>E+L.amount,0)>T*.2&&b.push("Review discretionary shopping expenses"),{monthlyIncome:T,monthlyExpenses:_,savingsPotential:O,spendingByCategory:A,riskFactors:z,opportunities:b,timeToGoal:Math.ceil(5e4/(O>0?O:1))}})(),w=m();k.useEffect(()=>{const f=localStorage.getItem("financial-goals");f&&u(JSON.parse(f))},[]),k.useEffect(()=>{localStorage.setItem("financial-goals",JSON.stringify(c))},[c]);const j=()=>{if(!d.name||!d.targetAmount||!d.deadline||!d.category)return;const f={id:Math.random().toString(36).substr(2,9),name:d.name,targetAmount:d.targetAmount,currentAmount:0,deadline:d.deadline,category:d.category,priority:d.priority};u([...c,f]),p({priority:"medium"}),i(!1)},y=f=>{u(c.filter(v=>v.id!==f))},h=()=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Create New Goal"}),o.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(bn,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal Name"}),o.jsx("input",{type:"text",value:d.name||"",onChange:f=>p({...d,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Emergency Fund"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Amount"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:n.currency}),o.jsx("input",{type:"number",value:d.targetAmount||"",onChange:f=>p({...d,targetAmount:parseFloat(f.target.value)}),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline"}),o.jsx("input",{type:"date",value:d.deadline||"",onChange:f=>p({...d,deadline:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:d.category||"",onChange:f=>p({...d,category:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select a category"}),t.map(f=>o.jsx("option",{value:f.name,children:f.name},f.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),o.jsx("div",{className:"flex space-x-2",children:["low","medium","high"].map(f=>o.jsx("button",{onClick:()=>p({...d,priority:f}),className:`flex-1 px-4 py-2 rounded-lg capitalize ${d.priority===f?"bg-blue-50 text-blue-600 border border-blue-200":"bg-gray-50 text-gray-600 border border-gray-200"}`,children:f},f))})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:j,disabled:!d.name||!d.targetAmount||!d.deadline||!d.category,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-blue-300",children:"Create Goal"})]})]})]})});return r("goalSimulator")?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Goals & Forecasts"}),o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",children:[o.jsx(yn,{size:20,className:"mr-1"}),"Add Goal"]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Ra,{size:24,className:"text-purple-600 mr-2"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Expense Forecast"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"End of Week"}),o.jsx("div",{className:"text-2xl font-bold text-purple-900 mb-2",children:D(w.weeklyExpense,n.currency,n.locale)}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsxs("span",{className:`font-medium ${w.weeklyTrend>0?"text-rose-600":"text-green-600"}`,children:[w.weeklyTrend>0?"":""," ",Math.abs(w.weeklyTrend).toFixed(1),"%"]}),o.jsx("span",{className:"text-purple-700 ml-1",children:"vs. monthly average"})]})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"End of Month"}),o.jsx("div",{className:"text-2xl font-bold text-purple-900 mb-2",children:D(w.monthlyExpense,n.currency,n.locale)}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsxs("span",{className:`font-medium ${w.monthlyTrend>0?"text-rose-600":"text-green-600"}`,children:[w.monthlyTrend>0?"":""," ",Math.abs(w.monthlyTrend).toFixed(1),"%"]}),o.jsx("span",{className:"text-purple-700 ml-1",children:"vs. quarterly average"})]})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"End of Year"}),o.jsx("div",{className:"text-2xl font-bold text-purple-900 mb-2",children:D(w.yearlyExpense,n.currency,n.locale)}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsxs("span",{className:`font-medium ${w.yearlyTrend>0?"text-rose-600":"text-green-600"}`,children:[w.yearlyTrend>0?"":""," ",Math.abs(w.yearlyTrend).toFixed(1),"%"]}),o.jsx("span",{className:"text-purple-700 ml-1",children:"projected trend"})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-purple-100 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Fn,{size:18,className:"text-purple-600 mt-0.5 mr-2"}),o.jsxs("p",{className:"text-sm text-purple-700",children:["These forecasts are based on your current spending patterns and may vary based on future behavior.",w.monthlyTrend>10&&" Your monthly spending is trending significantly higher than usual.",w.monthlyTrend<-10&&" Your spending has decreased significantly compared to previous months."]})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(f=>{const v=f.currentAmount/f.targetAmount*100,S=Math.ceil((new Date(f.deadline).getTime()-new Date().getTime())/(1e3*60*60*24)),C=S<30&&v<50;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`p-2 rounded-lg ${f.priority==="high"?"bg-rose-50 text-rose-600":f.priority==="medium"?"bg-amber-50 text-amber-600":"bg-green-50 text-green-600"}`,children:o.jsx(Tf,{size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:f.name}),o.jsx("span",{className:"text-sm text-gray-500",children:f.category})]})]}),o.jsx("div",{className:"flex space-x-1",children:o.jsx("button",{onClick:()=>y(f.id),className:"p-1 hover:bg-rose-50 rounded-full transition-colors",children:o.jsx(Fl,{size:16,className:"text-rose-500"})})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"font-medium text-gray-800",children:[D(f.currentAmount,n.currency,n.locale),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),D(f.targetAmount,n.currency,n.locale)]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${v>=100?"bg-green-500":v>=75?"bg-blue-500":v>=50?"bg-amber-500":"bg-rose-500"}`,style:{width:`${Math.min(v,100)}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[v.toFixed(0),"% Complete"]}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(ar,{size:14,className:"text-gray-400 mr-1"}),o.jsxs("span",{className:`${C?"text-rose-600 font-medium":"text-gray-500"}`,children:[S," days left"]})]})]}),C&&o.jsxs("div",{className:"flex items-center mt-2 text-sm text-rose-600 bg-rose-50 p-2 rounded-lg",children:[o.jsx(Fn,{size:14,className:"mr-1"}),o.jsx("span",{children:"Goal at risk! Consider increasing contributions."})]})]})]},f.id)})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Financial Forecast"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Bl,{size:20,className:"text-blue-600 mr-2"}),o.jsx("h3",{className:"font-medium text-blue-800",children:"Monthly Overview"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-blue-700",children:"Income"}),o.jsx("span",{className:"font-medium text-blue-800",children:D(x.monthlyIncome,n.currency,n.locale)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-blue-700",children:"Expenses"}),o.jsx("span",{className:"font-medium text-blue-800",children:D(x.monthlyExpenses,n.currency,n.locale)})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-200",children:[o.jsx("span",{className:"text-blue-700",children:"Savings Potential"}),o.jsx("span",{className:"font-medium text-blue-800",children:D(x.savingsPotential,n.currency,n.locale)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Risk Factors"}),o.jsxs("div",{className:"space-y-2",children:[x.riskFactors.map((f,v)=>o.jsxs("div",{className:"flex items-center p-2 bg-rose-50 rounded-lg text-sm text-rose-700",children:[o.jsx(Fn,{size:16,className:"mr-2 text-rose-600"}),f]},v)),x.riskFactors.length===0&&o.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded-lg text-sm text-green-700",children:[o.jsx(os,{size:16,className:"mr-2 text-green-600"}),"No significant risk factors detected"]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-green-800 mb-3",children:"Savings Opportunities"}),o.jsxs("div",{className:"space-y-2",children:[x.opportunities.map((f,v)=>o.jsxs("div",{className:"flex items-center p-2 bg-white bg-opacity-50 rounded-lg text-sm text-green-700",children:[o.jsx(En,{size:16,className:"mr-2 text-green-600"}),f]},v)),x.opportunities.length===0&&o.jsxs("div",{className:"flex items-center p-2 bg-white bg-opacity-50 rounded-lg text-sm text-green-700",children:[o.jsx(os,{size:16,className:"mr-2 text-green-600"}),"You're optimizing your expenses well!"]})]})]}),o.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:"Goal Achievement Forecast"}),o.jsxs("p",{className:"text-amber-700",children:["At your current savings rate of"," ",o.jsx("span",{className:"font-medium",children:D(x.savingsPotential,n.currency,n.locale)})," ","per month, you can reach a"," ",o.jsx("span",{className:"font-medium",children:D(5e4,n.currency,n.locale)})," ","emergency fund goal in approximately"," ",o.jsxs("span",{className:"font-medium",children:[x.timeToGoal," months"]}),"."]}),x.savingsPotential<0&&o.jsxs("div",{className:"mt-3 flex items-center text-sm text-amber-600",children:[o.jsx(Fn,{size:16,className:"mr-2"}),"Your expenses exceed your income. Consider reviewing your budget."]})]})]})]})]}),s&&h()]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Goals & Forecasts"}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 border border-gray-100 text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-amber-50 rounded-full flex items-center justify-center mb-4",children:o.jsx(is,{size:28,className:"text-amber-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Pro Feature"}),o.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Upgrade to Pro to unlock our powerful goal-setting and AI-powered forecasting features. Plan your financial future with confidence."}),o.jsx("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors shadow-sm",children:"Upgrade to Pro"})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(is,{size:40,className:"mx-auto text-amber-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Upgrade to Pro"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Get access to advanced features including:",o.jsxs("ul",{className:"text-left mt-4 space-y-2",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(En,{size:16,className:"text-amber-600 mr-2"}),"AI-powered financial forecasting"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(En,{size:16,className:"text-amber-600 mr-2"}),"Unlimited savings goals"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(En,{size:16,className:"text-amber-600 mr-2"}),"Smart goal recommendations"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(En,{size:16,className:"text-amber-600 mr-2"}),"Progress notifications"]})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Maybe Later"}),o.jsx("button",{className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Upgrade Now"})]})]})})})]})},nv=()=>{const{transactions:e}=Ce(),t=k.useRef(null),[n,r]=k.useState("idle"),[s,i]=k.useState("json"),a=async()=>{try{if(s==="json"){const u=await ox();Vx(u,`expense-tracker-export-${new Date().toISOString().split("T")[0]}.json`)}else{const u=Wx(e);qx(u,`expense-tracker-export-${new Date().toISOString().split("T")[0]}.csv`)}}catch(u){console.error("Export error:",u)}},l=()=>{t.current&&t.current.click()},c=async u=>{var p;const d=(p=u.target.files)==null?void 0:p[0];if(d){try{const m=await d.text();await ax(m),r("success"),setTimeout(()=>{r("idle")},3e3)}catch(m){console.error("Import error:",m),r("error"),setTimeout(()=>{r("idle")},3e3)}t.current&&(t.current.value="")}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Import & Export"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Export Your Data"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Download your transaction history as a file that you can back up or import later."}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>i("json"),className:`px-4 py-2 rounded-lg border ${s==="json"?"bg-blue-50 border-blue-200 text-blue-600":"bg-white border-gray-300 text-gray-700"}`,children:"JSON Format"}),o.jsx("button",{onClick:()=>i("csv"),className:`px-4 py-2 rounded-lg border ${s==="csv"?"bg-blue-50 border-blue-200 text-blue-600":"bg-white border-gray-300 text-gray-700"}`,children:"CSV Format"})]}),o.jsxs("button",{onClick:a,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(Sf,{size:18,className:"mr-2"}),"Export ",s.toUpperCase()]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Import Data"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Import previously exported data to restore your transactions."}),o.jsx("input",{type:"file",ref:t,onChange:c,accept:".json",className:"hidden"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:l,className:"flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(bi,{size:18,className:"mr-2"}),"Select JSON File"]}),n==="success"&&o.jsxs("div",{className:"flex items-center text-green-600",children:[o.jsx(Nf,{size:18,className:"mr-1"}),o.jsx("span",{children:"Import successful!"})]}),n==="error"&&o.jsxs("div",{className:"flex items-center text-rose-600",children:[o.jsx(vx,{size:18,className:"mr-1"}),o.jsx("span",{children:"Import failed. Please check your file format."})]})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Your Data Privacy"}),o.jsx("p",{className:"text-sm text-blue-600",children:"All your financial data is stored locally on your device and is never sent to our servers without your explicit permission. Regular exports are recommended for data backup."})]})]})]})},rv=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Import & Export"}),o.jsx(nv,{}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Data Privacy & Backup"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"How Your Data Is Stored"}),o.jsx("p",{className:"text-gray-600",children:"All your transaction data is stored locally on your device using IndexedDB technology. This means your financial information never leaves your device unless you explicitly export or back it up."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Recommended Backup Schedule"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We recommend regular backups of your financial data to prevent any loss:"}),o.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[o.jsx("li",{children:"Export data at least once a month"}),o.jsx("li",{children:"Export after entering large batches of transactions"}),o.jsx("li",{children:"Save backups in multiple locations (cloud storage, external drive)"}),o.jsx("li",{children:"Consider our Pro plan for automated daily Google Drive backups"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"What Happens If You Clear Browser Data"}),o.jsx("div",{className:"p-3 bg-amber-50 rounded-lg text-amber-800 mb-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Fn,{className:"mt-0.5 mr-2 flex-shrink-0",size:18}),o.jsx("p",{children:"Clearing your browser's cache or storage may delete all your transaction data. Always export a backup before clearing browser data or switching devices."})]})}),o.jsx("p",{className:"text-gray-600",children:"If you accidentally clear your data, you can restore it by importing your most recent backup."})]})]})]})]}),sv=()=>{const{userPreferences:e,refreshUserPreferences:t}=Ce(),{user:n,setShowAuthModal:r}=jn(),[s,i]=k.useState(!1),[a,l]=k.useState(null);k.useEffect(()=>{(async()=>{await t()})()},[]);const c=[{id:"free",name:"Free",price:0,currency:"",description:"Get started with basic expense tracking"},{id:"pro",name:"Pro",price:1,currency:"$",description:"All features unlocked",priceId:"price_1RFIhpRdqNGAmbCWEHgHZJBo"}],u=[{title:"Basic Dashboard",description:"Simple visualizations and stats",tiers:{free:!0,pro:!0},icon:o.jsx(Su,{size:18})},{title:"Manual Import/Export",description:"CSV and JSON backup options",tiers:{free:!0,pro:!0},icon:o.jsx(bi,{size:18})},{title:"Advanced Analytics",description:"Time-of-day, geo, seasonality insights",tiers:{free:!1,pro:!0},icon:o.jsx(Su,{size:18})},{title:"Unlimited Transactions",description:"No limits on transaction history",tiers:{free:!1,pro:!0},icon:o.jsx(ji,{size:18})},{title:"Google Drive Backup",description:"Automated daily encrypted backups",tiers:{free:!1,pro:!0},icon:o.jsx(bi,{size:18})},{title:"Family Workspace",description:"Shared access for up to 5 users",tiers:{free:!1,pro:!0},icon:o.jsx(Lx,{size:18})}],d=async g=>{if(!n){r(!0);return}i(!0),l(g);try{const x=c.find(y=>y.id===g);if(!(x!=null&&x.priceId))throw new Error("Invalid plan");const w=await fetch("https://ctraqyptndauyvwtqqds.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0cmFxeXB0bmRhdXl2d3RxcWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5Nzk5MzUsImV4cCI6MjA2MDU1NTkzNX0.HRX1BH4zRjkzmAKzcog3alZC2R35Ee3shPbTJZpyHJ0"},body:JSON.stringify({priceId:x.priceId,userId:n.id,email:n.email})});if(!w.ok)throw new Error("Failed to create checkout session");const{url:j}=await w.json();j&&(window.location.href=j)}catch(x){console.error("Error creating checkout session:",x),alert("Failed to process payment. Please try again.")}finally{i(!1),l(null)}},p=async()=>{if(!(!n||!e.stripe_customer_id)){i(!0);try{const g=await fetch("https://ctraqyptndauyvwtqqds.supabase.co/functions/v1/create-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0cmFxeXB0bmRhdXl2d3RxcWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5Nzk5MzUsImV4cCI6MjA2MDU1NTkzNX0.HRX1BH4zRjkzmAKzcog3alZC2R35Ee3shPbTJZpyHJ0"},body:JSON.stringify({customerId:e.stripe_customer_id})});if(!g.ok)throw new Error("Failed to create portal session");const{url:x}=await g.json();x&&(window.location.href=x)}catch(g){console.error("Error creating portal session:",g),alert("Failed to open billing portal. Please try again.")}finally{i(!1)}}},m=g=>{const x=e.planTier||"free";return x===g.id?o.jsx("button",{disabled:!0,className:"w-full py-2 rounded-lg font-medium bg-gray-200 text-gray-600 cursor-not-allowed",children:"Current Plan"}):g.id==="pro"?o.jsx("button",{onClick:()=>d("pro"),disabled:s||x==="pro",className:`w-full py-2 rounded-lg font-medium transition-colors ${s&&a===g.id?"bg-blue-400 text-white cursor-wait":"bg-blue-600 text-white hover:bg-blue-700"}`,children:s&&a===g.id?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsx(Cf,{size:16,className:"animate-spin mr-2"}),"Processing..."]}):"Upgrade to Pro"}):o.jsx("button",{disabled:!0,className:"w-full py-2 rounded-lg font-medium bg-gray-200 text-gray-600 cursor-not-allowed",children:"Downgrade Not Available"})};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Subscription Plans"}),e.stripe_customer_id&&o.jsx("button",{onClick:p,disabled:s,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Manage Subscription"})]}),o.jsx("p",{className:"text-gray-500 mb-8",children:"Choose the plan that best fits your needs"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:c.map(g=>o.jsxs("div",{className:`rounded-xl border p-6 transition-all duration-300 ${e.planTier===g.id?"border-blue-400 shadow-md ring-2 ring-blue-200":"border-gray-200 hover:border-blue-200 hover:shadow"}`,children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g.name}),o.jsxs("div",{className:"mt-2 mb-4",children:[o.jsx("span",{className:"text-3xl font-bold",children:g.price===0?"Free":`${g.currency}${g.price}`}),g.price>0&&o.jsx("span",{className:"text-gray-500 ml-1",children:"/month"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:g.description}),m(g)]},g.id))}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"py-4 px-4 text-left text-gray-700 font-medium",children:"Feature"}),c.map(g=>o.jsx("th",{className:"py-4 px-4 text-center text-gray-700 font-medium",children:g.name},g.id))]})}),o.jsx("tbody",{children:u.map((g,x)=>o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"mr-2 text-gray-500",children:g.icon}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-700",children:g.title}),o.jsx("div",{className:"text-sm text-gray-500",children:g.description})]})]})}),Object.entries(g.tiers).map(([w,j])=>o.jsx("td",{className:"py-3 px-4 text-center",children:j?o.jsx("div",{className:"mx-auto w-6 h-6 bg-green-50 rounded-full flex items-center justify-center",children:o.jsx(Nf,{size:14,className:"text-green-600"})}):o.jsx("div",{className:"mx-auto w-6 h-6 bg-gray-50 rounded-full flex items-center justify-center",children:o.jsx(bn,{size:14,className:"text-gray-400"})})},w))]},x))})]})}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg flex items-start",children:[o.jsx(Aa,{size:20,className:"text-blue-600 mr-3 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-blue-600",children:"All payments are processed securely through Stripe. Your financial data is encrypted and protected. You can cancel or change your subscription at any time."})]})]})},iv=()=>{const{userPreferences:e,updateUserPreferences:t}=Ce(),[n,r]=k.useState(e.currency),[s,i]=k.useState(e.locale),[a,l]=k.useState(!1),[c,u]=k.useState(!1),d=()=>{l(!0),setTimeout(()=>{t({currency:n,locale:s}),l(!1),u(!0),setTimeout(()=>{u(!1)},3e3)},600)},p=[{value:"",label:"Indian Rupee ()"},{value:"$",label:"US Dollar ($)"},{value:"",label:"Euro ()"},{value:"",label:"British Pound ()"}],m=[{value:"en-IN",label:"English (India)"},{value:"en-US",label:"English (US)"},{value:"en-GB",label:"English (UK)"},{value:"hi-IN",label:"Hindi (India)"}];return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"User Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Currency"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Choose your preferred currency for displaying amounts."}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:p.map(g=>o.jsxs("button",{onClick:()=>r(g.value),className:`p-3 rounded-lg border text-center transition-colors ${n===g.value?"bg-blue-50 border-blue-200 text-blue-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx("span",{className:"block text-xl mb-1",children:g.value}),o.jsx("span",{className:"text-sm",children:g.label.split(" ")[0]})]},g.value))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Display Format"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Choose how dates and numbers are formatted."}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(g=>o.jsxs("button",{onClick:()=>i(g.value),className:`p-3 rounded-lg border text-left transition-colors ${s===g.value?"bg-blue-50 border-blue-200 text-blue-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx("span",{className:"block font-medium mb-1",children:g.label}),o.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString(g.value,{year:"numeric",month:"short",day:"numeric"})})]},g.value))})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsx("button",{onClick:d,disabled:a,className:`flex items-center justify-center px-6 py-3 rounded-lg font-medium text-white transition-colors ${a?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin mr-2",children:""}),"Saving..."]}):c?o.jsxs(o.Fragment,{children:[o.jsx(os,{size:18,className:"mr-2"}),"Saved!"]}):o.jsxs(o.Fragment,{children:[o.jsx(os,{size:18,className:"mr-2"}),"Save Settings"]})})})]})]})},ov=()=>{const[e]=R0(),[t,n]=Cr.useState(!1);return k.useEffect(()=>{e.get("success")==="true"&&(n(!0),setTimeout(()=>n(!1),5e3))},[e]),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Settings"}),t&&o.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4 flex items-start",children:[o.jsx(kf,{className:"text-green-500 mt-0.5 mr-3 flex-shrink-0",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-green-800 font-medium",children:"Payment Successful!"}),o.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Thank you for your subscription. Your Pro features are now active. You can view your payment history and manage your subscription at any time."})]})]}),o.jsx(iv,{}),o.jsx(sv,{})]})},av=()=>{const{userPreferences:e}=Ce(),[t,n]=Cr.useState([]),[r,s]=Cr.useState(!0);Cr.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await Q.from("stripe_user_orders").select("*").order("order_date",{ascending:!1});if(c)throw c;n(l||[])}catch(l){console.error("Error fetching orders:",l)}finally{s(!1)}})()},[]);const i=async a=>{try{const c=await(await fetch("https://ctraqyptndauyvwtqqds.supabase.co/functions/v1/get-invoice",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0cmFxeXB0bmRhdXl2d3RxcWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5Nzk5MzUsImV4cCI6MjA2MDU1NTkzNX0.HRX1BH4zRjkzmAKzcog3alZC2R35Ee3shPbTJZpyHJ0"},body:JSON.stringify({paymentIntentId:a})})).blob(),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`invoice-${a}.pdf`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(u),document.body.removeChild(d)}catch(l){console.error("Error downloading invoice:",l),alert("Failed to download invoice. Please try again.")}};return r?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Payment History"}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:t.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ji,{size:24,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No payments yet"}),o.jsx("p",{className:"text-gray-500",children:"Your payment history will appear here once you make a purchase."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Date"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Description"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Amount"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-700",children:"Invoice"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(a=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:new Date(a.order_date).toLocaleDateString(e.locale,{year:"numeric",month:"long",day:"numeric"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Pro Plan Subscription"}),o.jsx("div",{className:"text-xs text-gray-500",children:a.payment_intent_id})]}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800",children:D(a.amount_total/100,e.currency,e.locale)}),o.jsx("td",{className:"px-6 py-4",children:a.payment_status==="succeeded"?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(kf,{size:12,className:"mr-1"}),"Paid"]}):a.payment_status==="failed"?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-rose-100 text-rose-800",children:[o.jsx(Dx,{size:12,className:"mr-1"}),"Failed"]}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:a.payment_status})}),o.jsx("td",{className:"px-6 py-4 text-right",children:a.payment_status==="succeeded"&&o.jsxs("button",{onClick:()=>i(a.payment_intent_id),className:"text-blue-600 hover:text-blue-700 font-medium text-sm inline-flex items-center",children:[o.jsx(Sf,{size:16,className:"mr-1"}),"Invoice"]})})]},a.order_id))})]})})})]})},lv=()=>{const{setShowAuthModal:e}=jn(),[t,n]=k.useState(!1),[r,s]=k.useState(""),[i,a]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState(!1),[p,m]=k.useState(!1),[g,x]=k.useState(!1),[w,j]=k.useState(null),[y,h]=k.useState(null),f=C=>{const T=/[a-z]/.test(C),_=/[A-Z]/.test(C),O=/[0-9]/.test(C),A=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>?/`~]/.test(C),z=[];return T||z.push("lowercase letter"),_||z.push("uppercase letter"),O||z.push("number"),A||z.push("special character"),{isValid:T&&_&&O&&A&&C.length>=8,missing:z}},v=async C=>{var T;if(C.preventDefault(),j(null),h(null),t){if(i!==l){j("Passwords do not match");return}const{isValid:_,missing:O}=f(i);if(!_){j(`Password must include at least one ${O.join(", ")}`);return}}x(!0);try{if(t){const{data:_,error:O}=await Q.auth.signUp({email:r,password:i,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(O)throw O;h("A confirmation link has been sent to your email address. Please check your inbox and click the link to verify your account. You cannot sign in until you verify your email."),s(""),a(""),c("")}else{const{data:_,error:O}=await Q.auth.signInWithPassword({email:r,password:i});if(O)throw O;if(!((T=_.user)!=null&&T.email_confirmed_at))throw new Error("Please verify your email address before signing in. Check your inbox for the verification link.")}}catch(_){j(_ instanceof Error?_.message:"An error occurred")}finally{x(!1)}},S=async()=>{try{const{data:C,error:T}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(T)throw T}catch(C){j(C instanceof Error?C.message:"An error occurred")}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 relative",children:[o.jsx("button",{onClick:()=>e(!1),className:"absolute right-4 top-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(bn,{size:20})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:t?"Create an Account":"Welcome Back"}),o.jsx("p",{className:"text-gray-600 mt-1",children:t?"Sign up to start tracking your expenses":"Sign in to continue to your account"})]}),w&&o.jsx("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-100 text-rose-600 rounded-lg text-sm",children:w}),y&&o.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-100 text-green-600 rounded-lg text-sm",children:y}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ex,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",value:r,onChange:C=>s(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Aa,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:u?"text":"password",value:i,onChange:C=>a(C.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?o.jsx(Eu,{size:18}):o.jsx(Tu,{size:18})})]}),t&&o.jsxs("div",{className:"mt-1 text-xs text-gray-500 space-y-1",children:[o.jsx("p",{children:"Password must contain at least:"}),o.jsxs("ul",{className:"list-disc list-inside pl-2",children:[o.jsx("li",{children:"8 characters"}),o.jsx("li",{children:"One uppercase letter (A-Z)"}),o.jsx("li",{children:"One lowercase letter (a-z)"}),o.jsx("li",{children:"One number (0-9)"}),o.jsxs("li",{children:["One special character (!@#$%^&*()_+-=[]",";"]})]})]})]}),t&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Aa,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:p?"text":"password",value:l,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?o.jsx(Eu,{size:18}):o.jsx(Tu,{size:18})})]})]}),o.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-blue-400",children:g?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsx(Cf,{size:18,className:"animate-spin mr-2"}),t?"Creating Account...":"Signing In..."]}):o.jsx("span",{children:t?"Create Account":"Sign In"})})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:[t?"Already have an account?":"Don't have an account?"," ",o.jsx("button",{onClick:()=>{n(!t),j(null),h(null),s(""),a(""),c("")},className:"text-blue-600 font-medium hover:text-blue-700",children:t?"Sign In":"Sign Up"})]})]})})},cv=()=>{const{user:e,loading:t,showAuthModal:n,setShowAuthModal:r}=jn(),[s,i]=k.useState("dashboard");if(t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const a=()=>{if(!e){r(!0);return}},l=()=>{switch(s){case"dashboard":return o.jsx(Pu,{onAuthRequired:a});case"transactions":return o.jsx(Xx,{});case"budget":return o.jsx(Zx,{});case"analytics":return o.jsx(ev,{});case"goals":return o.jsx(tv,{});case"payment-history":return o.jsx(av,{});case"import-export":return o.jsx(rv,{});case"settings":return o.jsx(ov,{});default:return o.jsx(Pu,{onAuthRequired:a})}};return o.jsxs(gx,{children:[o.jsx(Fx,{currentPage:s,onNavigate:i,onAuthRequired:a,children:l()}),n&&!e&&o.jsx(lv,{})]})};function uv(){return o.jsx(O0,{children:o.jsx(lx,{children:o.jsx(cv,{})})})}Hh(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(uv,{})}));export{Rf as g};
